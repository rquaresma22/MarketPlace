<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Simple icons</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      } 
#zoom_controls{
        position: absolute; 
        top: 80%;  
        z-index: 0;
        background-color: none;
        padding: 4px;
        border: none;
        height: 40px;
        width: 100%; 
        text-align: center;   
        }

#controls{
        position: absolute; 
        top: 1px;
        right: 10px;
        margin-left: -320px;
        z-index: 0;
        background-color: #fff;
        padding: 4px;
        border: 1px solid #999;
        height: 50px;
        }


 #Control_left {
        position: absolute;
        top: 1px;
        left: 0px;
        margin-left: 0px;
        z-index: 5;
        background-color: #fff;
        padding: 4px;
        border: 1px solid #999;
        box-shadow: 3px 3px 5px rgba(0,0,0,0.15);
        }
.dropdown-submenu {position: relative;}

.dropdown-submenu .dropdown-menu {
    top: 0;
    left: 100%;
    margin-top: -1px;}


 #panel {
        position: absolute;
        top: 1%;
        right: 0.4%;
        width:269px; 
        height: auto;
        z-index: 5;
        background-color: #fff;
        padding: 7px; 
        border: 1px solid #999;
        box-shadow: 3px 3px 5px rgba(0,0,0,0.15);
        text-align: right;  
        }

#form {
        position: fixed;
        left: 30%;
        top: 10px;
        z-index: 5;
        background-color: #fff;
        padding: 10px;
        border: 1px solid #999;
        box-shadow: 3px 3px 5px rgba(0,0,0,0.15); 
   }
 #save {
        position: absolute;
        bottom: 1px;
        left: 30px;
        margin-left: 3px;
        z-index: 5;
        background-color: #fff;
        padding: 4px;
        border: 1px solid #999;
        box-shadow: 3px 3px 5px rgba(0,0,0,0.15);
        }
 

    </style>
<!-- Add google maps library-->
   <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD-hlhzdBuah5qcARmXL6K_3fjWfX9p-2o&callback=initMap"></script>

        <script type="text/javascript" src="http://geoxml3.googlecode.com/svn/branches/polys/geoxml3.js"></script>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyD-hlhzdBuah5qcARmXL6K_3fjWfX9p-2o&libraries=geometry"></script>
  
 <!-- Add dropdown menu library -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<!-- Add fancybox jQuery library  -->
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script type="text/javascript" src="/js/web.js"></script>
        <script src="http://fancyapps.com/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script> 
        <link rel="stylesheet" href="http://fancyapps.com/fancybox/source/jquery.fancybox.css?v=2.1.5"> </script>

       <script type="text/javascript" src="https://cdn.rawgit.com/geocodezip/geoxml3/master/polys/geoxml3.js"></script>

<!-- Add Markers  -->
        <script src="https://rquaresma22.github.io/MarketPlace/dotted_line.html"></script>
 
  <script>

   
   var coordinates = {
      "lobos": [
        [-16.974521,32.647689],[-16.974421,32.647589],[-16.974362,32.647492],[-16.974341,32.64744],[-16.974338,32.647384],[-16.974349,32.647325],[-16.97436,32.64725],[-16.97436,32.647208],[-16.974346,32.647155],[-16.974314,32.64709],[-16.974274,32.647034],[-16.974252,32.647004],[-16.97422,32.646964],[-16.974164,32.646887],[-16.974118,32.646814],[-16.974067,32.646774],[-16.974024,32.646763],[-16.97399,32.646767],[-16.973949,32.646774],[-16.973909,32.646797],[-16.973869,32.646812],[-16.973818,32.646814],[-16.973767,32.646821],[-16.973689,32.646821],[-16.973585,32.646812],[-16.973531,32.646806],[-16.973488,32.646792],[-16.97344,32.646754],[-16.973397,32.646715],[-16.973357,32.646679],[-16.973316,32.646641],[-16.973284,32.646602],[-16.973233,32.646544],[-16.973185,32.646476],[-16.973131,32.646403],[-16.973062,32.646322],[-16.973019,32.646264],[-16.97296,32.646173],[-16.972863,32.646042],[-16.972761,32.645934],[-16.972707,32.645852],[-16.972595,32.645726],[-16.972488,32.645609],[-16.972407,32.645505],[-16.972268,32.645369],[-16.97216,32.645288],[-16.971999,32.645175],[-16.971935,32.645125],[-16.971822,32.645048],[-16.971667,32.645008],[-16.971543,32.645008],[-16.971393,32.644999],[-16.97127,32.645003],[-16.971028,32.645003],[-16.970792,32.645017],[-16.970621,32.645003],[-16.970481,32.645003],[-16.97032,32.645012],[-16.970175,32.645053],[-16.970036,32.645098],[-16.969913,32.645157]
      ],
      "formosa": [
        [-16.969516,32.645288],[-16.969489,32.645179],[-16.969478,32.645089],[-16.969451,32.645003],[-16.969403,32.644922],[-16.969355,32.644836],[-16.969296,32.644786],[-16.969167,32.64471],[-16.969065,32.644633],[-16.968979,32.644538],[-16.968545,32.644421],[-16.968137,32.644303],[-16.967697,32.644145],[-16.967359,32.64405],[-16.967091,32.643964],[-16.966715,32.643833],[-16.965959,32.643562],[-16.965814,32.643517],[-16.965626,32.643495],[-16.965428,32.643531],[-16.965278,32.643531],[-16.965128,32.643504],[-16.964937,32.643425],[-16.964709,32.643332],[-16.964398,32.643341],[-16.964242,32.643393],[-16.964119,32.643445],[-16.963878,32.643553],[-16.963652,32.643576],[-16.963153,32.643553],[-16.962778,32.643504],[-16.962193,32.643323],[-16.961877,32.643273],[-16.961517,32.643273],[-16.961158,32.643287],[-16.960957,32.643373],[-16.960745,32.64344],[-16.960487,32.643485],[-16.960246,32.643474],[-16.959983,32.643413],[-16.959656,32.643336],[-16.959473,32.643287],[-16.959211,32.643165],[-16.958969,32.643061],[-16.958792,32.64293],[-16.958578,32.642799],[-16.958454,32.642745],[-16.9581,32.642609],[-16.958047,32.642605],[-16.957886,32.642682],[-16.95781,32.642627],[-16.957843,32.642474],[-16.957735,32.64242],[-16.95758,32.642483],[-16.957424,32.642514],[-16.957231,32.642537],[-16.956893,32.642469],[-16.956738,32.64242],[-16.956539,32.642406],[-16.956367,32.642388],[-16.956078,32.642429],[-16.955852,32.642447],[-16.9556,32.642433],[-16.955362,32.642377],[-16.955092,32.642204],[-16.954871,32.642117],[-16.952784,32.640658],
      ],
       "lido": [
        [-16.949812,32.638426],[-16.947516,32.636692],[-16.947473,32.636583],[-16.947441,32.636448],[-16.947463,32.636294],[-16.947495,32.63615],[-16.947495,32.636014],[-16.947516,32.635915],[-16.947559,32.635815],[-16.947623,32.635689],[-16.947677,32.635598],[-16.947688,32.635454],[-16.947688,32.635318],[-16.947688,32.635183],[-16.947634,32.635056],[-16.94757,32.63493],[-16.947484,32.634821],[-16.947387,32.634776],[-16.947312,32.634731],[-16.947205,32.634677],[-16.947098,32.634605],[-16.947012,32.634523],[-16.94699,32.634424],[-16.946905,32.634315],[-16.946851,32.634198],[-16.946744,32.634108],[-16.946615,32.634017],[-16.946475,32.633945],[-16.946325,32.633846],[-16.946197,32.633755],[-16.946078,32.633665],[-16.945939,32.633584],[-16.945789,32.633484],[-16.945574,32.633394],[-16.945338,32.633349],[-16.945113,32.633349],[-16.944973,32.633367],[-16.944802,32.633538],[-16.944684,32.633692],[-16.944523,32.633728],[-16.944373,32.633791],[-16.944201,32.633837],[-16.944019,32.633846],[-16.943825,32.633873],[-16.943675,32.633882],[-16.943557,32.633891],[-16.943332,32.633927],[-16.943139,32.633954],[-16.942989,32.634017],[-16.942806,32.634053],[-16.942613,32.634117],[-16.942431,32.634198],[-16.94227,32.634243],[-16.94213,32.634288],[-16.94198,32.634343],[-16.941808,32.63437],[-16.94168,32.634406],[-16.941476,32.634442],[-16.941326,32.634451],[-16.941165,32.634478],[-16.940993,32.634505],[-16.940843,32.634532],[-16.940714,32.634541],[-16.940553,32.63455],[-16.940371,32.634568],[-16.940263,32.634568],[-16.940124,32.634568],[-16.939995,32.634568],[-16.939802,32.634596],[-16.939673,32.634623],[-16.939609,32.634722],[-16.939652,32.63483],[-16.939748,32.634957],[-16.939802,32.635074],[-16.939824,32.635174],[-16.939716,32.635201],[-16.939577,32.635291],[-16.939502,32.635373],[-16.939502,32.63549],[-16.93948,32.635626],[-16.939427,32.635743],[-16.939341,32.635869],[-16.939287,32.635996],[-16.939191,32.636095],[-16.939115,32.636213],[-16.939019,32.636249],[-16.938879,32.636258],[-16.938783,32.636294],[-16.938633,32.636294],[-16.938461,32.636285],[-16.938214,32.63633],[-16.938021,32.636366],[-16.937785,32.636421],[-16.937571,32.636484],[-16.937367,32.636538],[-16.937163,32.636565],[-16.936991,32.636637],[-16.936755,32.63671],[-16.936594,32.636764],[-16.936433,32.636818],[-16.93624,32.636854],[-16.936101,32.636881],[-16.935961,32.636899],[-16.935768,32.636917],[-16.935564,32.636954],[-16.935425,32.636981],[-16.935307,32.637008],[-16.935157,32.637035],[-16.935049,32.63708],[-16.934942,32.637098],[-16.934845,32.637044],[-16.934738,32.636972],[-16.934631,32.636881],[-16.934502,32.6368],[-16.934341,32.636791],[-16.934223,32.636737],[-16.934202,32.636646],[-16.934073,32.636574],[-16.933955,32.636565],[-16.933848,32.636601],[-16.933815,32.636701],[-16.933633,32.636683],[-16.933365,32.636628],[-16.93314,32.636583],[-16.932925,32.636565],[-16.932678,32.636502],[-16.932539,32.636475],[-16.932528,32.636375],[-16.932517,32.636195],[-16.932507,32.636104],[-16.932421,32.636041],[-16.932281,32.636068],[-16.932099,32.636113],[-16.931906,32.63614],[-16.931745,32.636168],[-16.931605,32.636159],[-16.931434,32.636168]
      ],
       "S. Pedro Funchal": [
[-16.9097849,32.6480221],    [-16.9100862,32.6491254],    [-16.9109329,32.6489164],    [-16.9112875,32.6488298],    [-16.9116944,32.6487805],    [-16.912789,32.6487719],    [-16.9129606,32.6487822],    [-16.9134971,32.6487809],    [-16.9152996,32.6490565],    [-16.9157663,32.6491287],    [-16.9161203,32.6492236],    [-16.9163147,32.6492552],    [-16.916587,32.6493139],    [-16.9165937,32.6495623],    [-16.9165012,32.6496798],    [-16.9163362,32.6497249],    [-16.9158789,32.6498424],    [-16.9155624,32.6499056],    [-16.9147912,32.6502443],    [-16.9144479,32.6505018],    [-16.9141623,32.6505018],    [-16.9138833,32.6505786],    [-16.9137492,32.6507051],    [-16.9133858,32.6510348],    [-16.9131699,32.6509309],    [-16.912903,32.650827],    [-16.9127635,32.6507276],    [-16.9125811,32.6505018],    [-16.9123343,32.6502579],    [-16.912109,32.6498423],    [-16.9119374,32.6495984],    [-16.9116142,32.6498514],    [-16.9108752,32.6503256],    [-16.9109074,32.6503753],    [-16.9108323,32.6504928],    [-16.9101081,32.6510303],    [-16.9098118,32.6507548],    [-16.9093665,32.6503166],    [-16.9090627,32.6500862],    [-16.9086209,32.6498379],    [-16.9080441,32.6495025],    [-16.9076123,32.6491513],    [-16.9074956,32.649052],     
   ],
       "S ": [
   [-16.9087777,32.6480885],    [-16.9086986,32.6478866],    [-16.9079154,32.6480402],    [-16.9077545,32.6480944],    [-16.9071859,32.6481757],    [-16.9069177,32.6481938],    [-16.9068747,32.6477511],    [-16.9064456,32.647733],    [-16.906113,32.6477782],    [-16.9060057,32.6478008],    [-16.9056838,32.6479318],    [-16.9052118,32.6480492],    [-16.9049006,32.6479227],    
   ],

      "Carmo - funchal": [
[-16.9065194,32.6495894],    [-16.9063049,32.6496978],    [-16.9064872,32.6498243],    [-16.9065731,32.6499327],    [-16.9066911,32.6501405],    [-16.9067555,32.6503934],    [-16.9068306,32.6506644],    [-16.9069379,32.6509083],    [-16.9071202,32.6511161],    [-16.9066696,32.6512606],    [-16.9062727,32.6513871],    [-16.9060044,32.6514684],    [-16.9057362,32.6515407],    [-16.9052749,32.6514774],    [-16.9049423,32.6514232],    [-16.9045131,32.6513961],    [-16.9037407,32.6513419],    [-16.903172,32.6512787],    [-16.9027214,32.6511884],    [-16.902641,32.6511387],    [-16.9023781,32.6510212],    [-16.9027429,32.6506825],    [-16.9030004,32.6503934],    [-16.9028502,32.650267],    [-16.9025712,32.6500592],    [-16.9023888,32.6499056],    [-16.9023674,32.6497972],    [-16.9023674,32.6496346],    [-16.9023781,32.649481],    [-16.9023137,32.6493455],    [-16.9022064,32.6493004],    [-16.9021099,32.6487674],    [-16.9019489,32.6487132],    [-16.9020026,32.6485416],    [-16.9020884,32.6483428],    [-16.9021635,32.6482254],  
     ],
 
      "Descida cestos": [
[-16.9025366,32.6754292],    [-16.9029228,32.6753659],    [-16.9032554,32.6753117],    [-16.9036094,32.6749686],    [-16.9037489,32.6746796],    [-16.903824,32.6742642],    [-16.9037704,32.6740203],    [-16.9038347,32.6737223],    [-16.9040386,32.6732798],    [-16.9042317,32.6728734],    [-16.9048754,32.6717625],    [-16.9046823,32.6716722],    [-16.9044892,32.6715729],    [-16.9044677,32.6710581],    [-16.9043605,32.6706336],    [-16.904221,32.6695047],    [-16.9038133,32.6679151],    [-16.9040708,32.6669397],    [-16.9040493,32.6662352],    [-16.9041137,32.6659281],    [-16.9043605,32.6654585],    [-16.9044248,32.6650159],    [-16.9046716,32.6642211],    
     ],

      "Descida cestos": [
[-17.0300864,32.6645348],    [-17.0301347,32.6644468],    [-17.0302768,32.6644671],    [-17.0303707,32.6644987],    [-17.0304351,32.6645145],    [-17.0305316,32.6644265],    [-17.0306201,32.6643226],    [-17.0307221,32.6642165],    [-17.0308803,32.6640855],    [-17.0309983,32.6639613],    [-17.0311083,32.6638529],    [-17.0313443,32.6636949],    [-17.0315562,32.6635978],    [-17.0323904,32.6630852],    [-17.0327149,32.6628346],    [-17.032782,32.6628187],    [-17.0328437,32.6627465],    [-17.0328893,32.6626855],    [-17.0332031,32.6624981],    [-17.0333667,32.6624868],    [-17.0335438,32.6624146],    [-17.0340775,32.6623965],    [-17.0341794,32.6624439],    [-17.0342519,32.6623987],    [-17.0347829,32.6622949],    [-17.0350082,32.6622565],    [-17.035137,32.6622881],    [-17.0352684,32.6623333],    [-17.0353408,32.6624462],    [-17.0354293,32.6625387],    [-17.035534,32.6625794],    [-17.0356493,32.6625771],    [-17.0356868,32.6624846],    [-17.0356654,32.6624146],    [-17.0357351,32.6624055],    [-17.035778,32.6624078],    [-17.0357619,32.6623558],    [-17.035837,32.6623378],    [-17.0361401,32.6623784],    [-17.0363467,32.6623897],    [-17.0365344,32.6623694],    [-17.0366283,32.6623604],    [-17.0366819,32.6624349],    [-17.0367088,32.6625049],    [-17.0366739,32.6625658],    [-17.0366766,32.6626065],    [-17.0367892,32.6625817],    [-17.0368724,32.6625094],    [-17.036926,32.662462],    [-17.0369716,32.6624281],    [-17.0370789,32.6623287],    [-17.0371942,32.6622046],    
     ],
     };
 


var menuItems = {

  "menu-1": {
          "id": "menu-1",
          "title": "Main Level",
          "parentId":  null,
          "childCount": 1,
          }, 
          "menu-10": {
                   "id": "menu-10",
                   "title": "FixTop",  
                   "parentId": "menu-1",
                   "childCount":0,
                   "groupCat":"Main Cartoons", 
           },
          "menu-11": {
                   "id": "menu-11",
                   "title": "Main Cartoons",  
                   "parentId": "menu-1",
                   "childCount":0,
                   "groupCat":"Main Cartoons", 
           },
           "menu-12": {
                   "id": "menu-12",
                   "title": "Main Cities",  
                   "parentId":"menu-1",
                   "childCount": 0,
                   "groupCat":"Main Cartoons", 
           }, 
           "menu-13": {
                   "id": "menu-13",
                   "title": "Main RoundMarkers", 
                   "parentId": "menu-1",
                   "childCount":0
           },
           "menu-14": {
                   "id": "menu-14",
                   "title": "Main Sponsors", 
                   "parentId": "menu-1",
                   "childCount":0
           },
           "menu-15": {
                   "id": "menu-15",
                   "title": "Cablecar", 
                   "parentId": "menu-1",
                   "childCount":0
           },
 
  "menu-2": {
           "id": "menu-2",
           "title": "Medium Level",
           "parentId":  null,
           "childCount": 1
           },  
           "menu-21": {
                   "id": "menu-21",
                   "title": "MainLocal References", 
                   "parentId":"menu-2",
                   "childCount": 0
           },
           "menu-22": {
                   "id": "menu-22",
                   "title": "MainLocal Labels", 
                   "parentId":"menu-2",
                   "childCount": 0
           },
          "menu-23": {
                   "id": "menu-23",
                   "title": "MainLocal Sponsors", 
                   "parentId": "menu-2",
                   "childCount": 0
          },
  "menu-3": {
          "id": "menu-3",
          "title": "Local Level",
          "parentId":  null,
          "childCount": 1
          },  
           "menu-31": {
                   "id": "menu-31",
                   "title": "Local Buildings", 
                   "parentId": "menu-3",
                   "childCount": 0
           }, 
           "menu-32": {
                   "id": "menu-32",
                   "title": "Local Shop",  
                   "parentId": "menu-3",
                   "childCount": 0
          }, 
           "menu-33": {
                   "id": "menu-33",
                   "title": "Local Catering", 
                   "parentId": "menu-3",
                   "childCount": 0
          },
           "menu-35": {
                   "id": "menu-35",
                   "title": "Local Sponsors",  
                   "parentId":"menu-3",
                   "childCount": 0
           },  
           "menu-34": {
                   "id": "menu-34",
                   "title": "Local Icons",
                   "parentId": "menu-3",
                   "childCount": 1
                   },
                   "menu-341": {
                            "id": "menu-341",
                            "title": "PostOffice", 
                            "iconimage":"PostOffice",
                            "parentId": "menu-34",
                            "childCount": 0
                   },
                   "menu-342": {
                            "id": "menu-342",
                            "title": "Churchs", 
                            "iconimage":"Church", 
                            "parentId": "menu-34",
                            "childCount": 0
                   },
                   "menu-343": {
                            "id": "menu-343",
                            "title": "Cross", 
                            "iconimage":"cross",  
                            "parentId": "menu-34",
                            "childCount": 0
                   },
                   "menu-344": {
                            "id": "menu-344",
                            "title": "State", 
                            "iconimage":"State", 
                            "parentId": "menu-34",
                            "childCount": 0 
                   },

                   "menu-345": {
                            "id": "menu-345",
                            "title": "Library",  
                            "iconimage":"Library", 
                            "parentId": "menu-34",
                            "childCount": 0
                   },
                   "menu-346": {
                            "id": "menu-346",
                            "title": "Health", 
                            "iconimage":"Health", 
                            "parentId": "menu-34",
                            "childCount": 0
                   },
                   "menu-347": {
                            "id": "menu-347",
                            "title": "SuperMarket", 
                            "iconimage":"Supermarket", 
                            "parentId": "menu-34",
                            "childCount": 0
                   },  
                   "menu-348": {
                            "id": "menu-348",
                            "title": "Culture", 
                            "iconimage":"Culture", 
                            "parentId": "menu-34",
                            "childCount": 0 
                   },
                   "menu-349": {
                            "id": "menu-349",
                            "title": "Police", 
                            "iconimage":"Police", 
                            "parentId": "menu-34",
                            "childCount": 0 
                   },
                   "menu-3411": {
                            "id": "menu-3411",
                            "title": "Court", 
                            "iconimage":"Court", 
                            "parentId": "menu-34",
                            "childCount": 0 
                   },

                   "menu-3412": {
                            "id": "menu-3412",
                            "title": "Fireman", 
                            "iconimage":"Fireman", 
                            "parentId": "menu-34",
                            "childCount": 0 
                   },
  // transversal selectores
  "menu-4": {
          "id": "menu-4",
          "title": "Bars",
          "parentId":  null,
          "childCount": 1
          },
           "menu-41": {
                   "id": "menu-41",
                   "title": "Local BarsA", 
                   "parentId": "menu-4",
                   "childCount": 0
                 },
          "menu-42": {
                    "id": "menu-42",
                    "title": "Local BarsB", 
                    "parentId": "menu-4",
                    "childCount": 0
                 },
          "menu-43": {
                    "id": "menu-43",
                    "title": "Disco", 
                    "parentId": "menu-4",
                    "childCount": 0
                 },  
  "menu-5": {
          "id": "menu-5",
          "title": "Museums",
          "parentId":  null,
          "childCount": 1
          },
          "menu-51": {
                  "id": "menu-51",
                  "title": "Local MuseumsA", 
                  "parentId": "menu-5",
                  "childCount": 0
                  },
          "menu-52": {
                  "id": "menu-53",
                  "title": "Local MuseumsB", 
                  "parentId": "menu-5",
                  "childCount": 0
                      }, 
  "menu-6": {
            "id": "menu-6",
            "title": "Walks",
            "parentId":  null,
            "childCount": 1
            },
            "menu-61": {
                     "id": "menu-61",
                     "title": "Main Walk",
                     "parentId": "menu-6",
                     "childCount": 1
                     },
                     "menu-612": {
                               "id": "menu-612",
                               "title": "Main Walk",   
                               "parentId": "menu-61",
                               "childCount": 0
                     },
                     "menu-613": {
                               "id": "menu-613",
                               "title": "WaterfallA", 
                               "parentId": "menu-61",
                               "childCount": 0
                     },
                    "menu-614": {
                               "id": "menu-614",
                               "title": "WoodhouseA",   
                               "parentId": "menu-61",
                               "childCount": 0
                     }, 
                     "menu-615": {
                               "id": "menu-615",
                               "title": "ViewWalkA", 
                               "parentId": "menu-61",
                               "childCount": 0
                       },
                      "menu-616": {
                              "id": "menu-616",
                              "title": "DangerWalkA", 
                              "parentId": "menu-61",
                              "childCount": 0
                       },
                      "menu-617": {
                              "id": "menu-617",
                              "title": "Lake", 
                              "parentId": "menu-61",
                              "childCount": 0
                       },
            "menu-62": {
                     "id": "menu-62",
                     "title": "Medium Walk", 
                     "parentId": "menu-6",
                     "childCount": 1
                     }, 
                      "menu-621": {
                              "id": "menu-621",
                              "title": "Medium Walk", 
                              "parentId": "menu-62",
                              "childCount": 0
                       },
                       "menu-622": {
                              "id": "menu-622",
                              "title": "WaterfallB", 
                              "parentId": "menu-62",
                              "childCount": 0
                       },
                       "menu-623": {
                                 "id": "menu-623",
                                 "title": "WoodhouseB",  
                                 "parentId": "menu-62",
                                 "childCount": 0
                       },
                       "menu-624": {
                                 "id": "menu-624",
                                 "title": "ViewWalkB",  
                                 "parentId": "menu-62",
                                 "childCount": 0
                       },
                       "menu-625": {
                                 "id": "menu-625",
                                 "title": "DangerWalkB",  
                                 "parentId": "menu-62",
                                 "childCount": 0
                       },
            "menu-63": {
                     "id": "menu-63",
                     "title": "Local Walk", 
                     "parentId": "menu-6",
                     "childCount": 1
                     }, 
                       "menu-631": {
                                 "id": "menu-632",
                                 "title": "Local Walk",  
                                 "parentId": "menu-63",
                                 "childCount": 0
                       },
                       "menu-632": {
                                 "id": "menu-631",
                                 "title": "DangerWalkC",  
                                 "parentId": "menu-63",
                                 "childCount": 0
                       },
            "menu-64": {
                     "id": "menu-64",
                     "title": "Parks", 
                     "parentId": "menu-6",
                     "childCount": 0
                     }, 
  "menu-7": {
            "id": "menu-7",
            "title": "ViewPoint",
            "parentId":  null,
            "childCount": 1
            },
            "menu-71": {
                     "id": "menu-71",
                     "title": "Main ViewPoint",
                     "parentId": "menu-7",
                     "childCount": 0
                     },
            "menu-72": {
                     "id": "menu-72",
                     "title": "Medium ViewPoint",
                     "parentId": "menu-7",
                     "childCount": 0
                     }, 
            "menu-73": {
                     "id": "menu-73",
                     "title": "Local ViewPoint",
                     "parentId": "menu-7",
                     "childCount": 0
                     }, 
  "menu-8": {
            "id": "menu-8",
            "title": "Beachs",
            "parentId":  null,
            "childCount": 1
            }, 
            "menu-81": {
                     "id": "menu-81",
                     "title": "Main Beach", 
                     "parentId": "menu-8",
                     "childCount": 0
            },
            "menu-82": {
                     "id": "menu-82",
                     "title": "Medium Beach",  
                     "parentId": "menu-8",
                     "childCount": 0
            },
            "menu-83": {
                     "id": "menu-83",
                     "title": "Local Beach",  
                     "parentId": "menu-8",
                     "childCount": 0
            },
            "menu-84": {
                     "id": "menu-84",
                     "title": "Swiming",  
                     "parentId": "menu-8",
                     "childCount": 0
            },  
      };

var CategoryData =[   
         ["FixTop",7,"Sponsors",9,18,10,75,120,0.99,"costum"],
         ["Main Cities",6,"Fancybox",11,18,20,113,172,1.5,"costum"],
         ["Main RoundMarkers",6,"Fancybox",11,18,20,80,172,1.5,"costum"],
         ["Main Cartoons",6,"Fancybox",11,18,20,"costum",172,1.5,"costum"],
         ["Main Sponsors",7,"Sponsors",9,18,10,50,200,1.2,"costum"], 
         ["Cablecar",7,"Sponsors",11,18,10,50,200,1.4,"Cablecar"], 

         ["MainLocal References", 5, "Fancybox", 13,18, "costum", "costum", 200,  "costum", "costum" ],
         ["MainLocal Labels", 7, "Infowindow", 13,18, 50, "costum", 300,  "costum", "costum" ],
         ["MainLocal Sponsors", 6, "Sponsors", 13,18, 10, 40, 200, 1.3, "costum" ],
 
         ["Local Buildings", 4, "Fancybox", 15,18, "costum", "costum", "costum", "costum", "costum" ],
         ["Local Shop", 4, "Fancybox", 16,18, 12,12, 200, 1.9, "Shop" ], 
         ["Local Catering", 4, "Infowindow", 16,18, 12, 12, 200, 1.9, "Cater" ],
                ["PostOffice", 5, "Infowindow", 16,18, 12, 12, 200, 1.6, "PostOffice" ], 
                ["Churchs", 5, "Infowindow", 16,18, 12, 12, 200, 1.6, "Church" ], 
                ["Cross", 5, "Infowindow", 16,18, 12, 12, 200, 1.6, "Cross" ], 
                ["State", 5, "Infowindow", 16,18, 12, 12, 200, 1.6, "State" ], 
                ["Library", 5, "Infowindow", 16,18, 12, 12, 200, 1.6, "Library" ], 
                ["Health", 5, "Infowindow", 16,18, 12, 12, 200, 1.6, "Health" ], 
                ["SuperMarket", 5, "Infowindow", 16,18, 12, 12, 200, 1.6, "Supermarket" ], 
                ["Culture", 5, "Infowindow", 16,18, 12, 12, 200, 1.6, "Culture" ], 
                ["Police", 5, "Infowindow", 16,18, 12, 12, 200, 1.6, "Police" ], 
                ["Court", 5, "Infowindow", 16,18, 12, 12, 200, 1.6, "Court" ], 
                ["Fireman", 5, "Infowindow", 16,18, 12, 12, 200, 1.6, "Fireman" ],

         ["Local Sponsors", 4, "Sponsors", 15,18, 20, 30, 200, 1.55, "costum" ],

         // transversais selectores

         ["Local BarsA", 5, "Fancybox", 16,18, 15, 23, 200, 1.87, "Bars" ],
         ["Local BarsB", 5, "Fancybox", 16,18, 15, 23, 200, 2.03, "Bars2" ],
         ["Disco", 5, "Fancybox", 16,18, 15, 23, 200, 2.03, "Disco" ],

         ["Local MuseumsA", 5, "Fancybox", 16,18, 15, 20, 200, 1.2, "MuseumA" ],
         ["Local MuseumsB", 5, "Infowindow", 16,18, 15, 15, 200, 1.2, "MuseumB" ],  

         ["Main Walk", 6, "Fancybox", 11,18, 15, 22, 200, 1.2, "walkA","A", ], 
            ["WaterfallA", 4, "Fancybox", 15,18, 15, 45, 200, 1.2, "waterfall","B" ],
            ["WoodhouseA", 4, "Fancybox", 15,18, 15, 45, 200, 1.2, "woodHouse","B" ],
            ["ViewWalkA", 4, "Fancybox", 15,18, 15, 45, 200, 1.2, "ViewPoint1","B" ],
            ["DangerWalkA", 4, "Fancybox", 15,18, 15, 45, 200, 1.2, "Danger","B" ], 
            ["Lake", 4, "Fancybox", 15,18, 15, 45, 200, 1.2, "lake3","B" ], 
         ["Medium Walk", 5, "Infowindow", 13,18, 15, 36, 200, 1.2, "walkB","A" ], 
            ["WaterfallB", 4, "Fancybox", 15,18, 15, 45, 200, 1.2, "waterfall","B" ], 
            ["WoodhouseB", 4, "Fancybox", 15,18, 15, 45, 200, 1.2, "woodHouse","B" ],
            ["ViewWalkB", 4, "Fancybox", 15,18, 15, 45, 200, 1.2, "ViewPoint","B" ], 
            ["DangerWalkB", 4, "Fancybox", 15,18, 15, 45, 200, 1.2, "Danger","B" ], 
         ["Local Walk", 6, "Infowindow", 15,18, 15, 36, 200, 1.2, "walkB","A"  ],
            ["DangerWalkC", 4, "Fancybox", 15,18, 15, 45, 200, 1.2, "Danger2","B" ], 

         ["Parks", 5, "Infowindow", 13,18, 15, 46, 200, 1.2, "Park_icon","A" ], 


         ["Main ViewPoint", 4, "Fancybox", 11,18, 15,24,200,1.2, "ViewPoint1" ],
         ["Medium ViewPoint", 4, "Infowindow", 13,18, 15, 18, 200, 1.2, "ViewPoint1" ],
         ["Local ViewPoint", 4, "Infowindow", 16,18, 15, 18, 200, 1.2, "ViewPoint2" ],

         ["Main Beach", 5, "Fancybox", 11,18, 15, 32, 200, 1.22, "Beach" ],
         ["Medium Beach", 5, "Infowindow", 13,18, 15, 22, 200, 1.3, "Beach" ], 
         ["Local Beach", 5, "Infowindow", 16,18, 15, 44, 200, 1.2, "Beach" ], 
         ["Swiming", 5, "Infowindow", 16,18, 15, 15, 200, 1.2, "Beach" ],  

  ];   


var locations =[
[1,"FixTop","Funchal","teste",9,18,10,75,120,0.99,0.5,32.64786928132301,-16.910195048238393,-15,0,"foto","Fix"],
[2,"Main Cities","Machico Village","machico",11,18,20,113,172,1.5,0.4940652818991098,32.71885050273968,-16.765634789597243,15,10,"foto",""],

[3,"Main Cities","Santana","santana",11,18,20,113,172,1.5,0.4939759036144578,32.805515466469686,-16.882140807215137,0,0,"foto",""],
[4,"Main Cities","Porto Moniz","Moniz",11,18,20,113,172,1.5,0.4936708860759494,32.86858754964275,-17.17090462624992,0,0,"foto",""],
[5,"Main Cities","Camara de Lobos","lobos",11,18,20,113,172,1.5,0.49382716049382713,32.649293875007395,-16.975825588766156,0,-5,"foto",""],
[6,"Main Cities","Ribeira Brava","brava",11,18,20,113,172,1.5,0.49382716049382713,32.67168667602144,-17.066134302734213,0,15,"foto",""],
[7,"Main Cities","S?o Vicente","vicente",11,18,20,113,172,1.5,0.4945054945054945,32.802830386768875,-17.04508493749995,0,20,"foto",""],
[8,"Main RoundMarkers","Curral das Freiras","curral3",11,18,20,80,172,1.5,0.49382716049382713,32.720517812077105,-16.965860259415876,30,25,"foto",""],
[9,"Main RoundMarkers","Fanal","fanal",11,18,20,80,172,1.5,0.49795918367346936,32.8177926422609,-17.15054801766962,60,-35,"foto",""],
[10,"Main RoundMarkers","Camacha","camacha",11,18,20,80,172,1.5,0.502127659574468,32.679247975327044,-16.846253991418735,55,15,"foto",""],
[11,"Main RoundMarkers","Ribeiro Frio","ribeirofrio",11,18,20,80,172,1.5,0.49142857142857144,32.73453736919167,-16.887325062396258,-90,5,"foto",""],

[1,"Main Cartoons","Cabo Girao ViewPoint","cabogirao2",13,18,20,20,200,1.36,0.5537848605577689,32.65593272919328,-17.00440119116206,95,0,"foto",""],  
[12,"Main Cartoons","Paul do Mar","paul_do_mar",11,18,20,96,172,1.5,0.5277777777777778,32.766798513781566,-17.236586289216916,-125,-175,"foto",""],
[13,"Main Cartoons","Ponta de Sao Lourenco","lourenco",11,18,20,97,172,1.5,0.5470085470085471,32.74713195077348,-16.705123541563808,0,0,"foto","Museum"],
[14,"Main Cartoons","Ponta do Pargo","pargo",11,18,20,93,172,1.5,0.37857142857142856,32.813456929446886,-17.263218385981645,-95,10,"foto",""],
[15,"Main Cartoons","Aeroport","aeroporto",11,18,20,93,172,1.5,0.6388888888888888,32.69443577856026,-16.774321422996195,-35,-30,"foto",""],
 [16,"Main Cartoons","Pico do Areeiro","mountain3",11,18,20,110,172,1.5,0.75625,32.73541527451247,-16.928559260553925,-5,-75,"foto","Fix"],
[17,"Main Cartoons","picoruivo","picoruivo3",11,18,20,50,172,1.5,0.6305418719211823,32.758995339217144,-16.943118079589794,15,-100,"foto","Fix"],
[18,"Main Cartoons","Cablecar Achadas da Cruz","cablecar",11,18,20,50,172,1.5,0.5,32.8528687161523,-17.210893801373686,-50,35,"foto",""],
[19,"Main Cartoons","Faja dos Padres Cablecar","cablecar",11,18,20,50,172,1.5,0.5,32.65675709719952,-17.02134166155338,0,0,"foto",""],
[20,"Main Cartoons","Cablecar - Faja  Gabo Girao","cablecar",11,18,20,50,172,1.5,0.5,32.65237455590898,-16.992653678373017,0,0,"foto",""],
[21,"Main Cartoons","Cablecar Garajau","cablecar",11,18,20,50,172,1.5,0.5,32.639972280921405,-16.851372904861137,90,0,"foto",""],
[22,"Main Sponsors","Ferry to Porto Santo","lobomarinho",9,18,10,50,200,1.2,0.631578947368421,32.64464409979765,-16.90771273261055,-190,-145,"foto",""],
[23,"MainLocal References","Ponta do Sol Village","ponta_sollabel",13,18,20,102,200,1.1500000000000001,0.7208672086720868,32.680678668534796,-17.103490082949293,0,45,"foto",""],
[24,"MainLocal References","vineyards","grapes",13,18,20,68,200,1.4200000000000004,0.5213675213675214,32.67499783806816,-16.986515510655636,0,0,"foto",""],
[25,"MainLocal References","Monte","CestosMonte",13,18,69,88,200,1.19,0.51010101010101,32.6756326219501,-16.902571496921496,5,-35,"foto",""],
[26,"MainLocal References","Pico Fort","forte",13,18,56,104,200,1.2000000000000002,0.5,32.65040705937372,-16.91565946723233,95,20,"foto",""],
[27,"MainLocal References","cable car tower","torre1",13,18,23,43,200,1,0.5460122699386503,32.67545550574613,-16.89680747194552,0,0,"foto",""],
[28,"MainLocal References","CableCar Tower","torre1",13,18,12,23,200,1,0.5460122699386503,32.66665822973788,-16.896917567159562,0,0,"foto",""],
[29,"MainLocal References","Cable Car Tower","torre1",13,18,12,20,200,1,0.5460122699386503,32.658281601186914,-16.898805842306047,0,0,"foto",""],
[30,"MainLocal References","Christ the King","cristorei",13,18,56,50,200,1.4200000000000004,0.5,32.63896316661675,-16.85005401125136,0,0,"foto",""],

 
[31,"MainLocal References","Maritimo Stadium","maritimo",13,18,15,86,200,1.4100000000000004,0.5,32.64494040057129,-16.927722008233786,95,45,"foto",""],
[32,"MainLocal References","Botanical Garden","botanicalg",13,18,20,81,200,1.3600000000000003,0.6896551724137931,32.66258254183391,-16.89606079225348,-155,0,"foto",""],
[33,"MainLocal References","S. Martinho Church","martinho2",13,18,20,74,200,1.5100000000000005,0.503448275862069,32.649184320580304,-16.944568276109635,30,-45,"foto",""],
[34,"MainLocal References","Bananas Plantation","bananas2",13,18,20,94,200,1.8400000000000007,0.5,32.65448997109665,-16.944993868840356,-45,10,"foto",""],
[35,"MainLocal References","Club Golf - Santo da Serra","golf",13,18,20,50,200,1,0.5,32.72227025705866,-16.803500577973296,0,0,"foto",""],
[36,"MainLocal References","Palheiro Golf","golf",13,18,20,50,200,1,0.5,32.65355135302439,-16.87080840690919,0,0,"foto",""],
[37,"MainLocal References","S. Vicente Caves","caves",13,18,20,50,200,1,0.6126760563380281,32.797847019855546,-17.04274936155275,0,0,"foto","Museum"],
[38,"MainLocal References","Cablecar Botanic Garden","cablecar",13,18,20,50,200,1.3600000000000003,0.5,32.662986557686374,-16.896046555983958,-140,60,"foto",""],
[39,"MainLocal References","Cablecar Rocha do Navio","cablecar",13,18,20,50,200,1.3600000000000003,0.5,32.8144757504747,-16.87699638782192,50,0,"foto",""],
[40,"MainLocal Labels","Canico Village","canicolabel",13,18,50,67,300,1.1800000000000002,0.6299212598425197,32.65204801026365,-16.840920923980775,0,0,"foto",""],
[41,"MainLocal Labels","Sao Pedro","saopedrolabel2",13,18,50,69,300,1.1800000000000002,0.8554216867469879,32.65014278714203,-16.91245197516764,150,-5,"foto",""],
[42,"MainLocal Labels","Lido","lidolabel2",13,18,50,41,300,1,0.7175572519083969,32.63735494266544,-16.93732300177794,-5,0,"foto",""],
[43,"MainLocal Labels","Funchal Center","centerlabel2",13,18,50,87,300,1.1800000000000002,0.8390243902439024,32.64773479455976,-16.90818877936681,10,-115,"foto",""],
[44,"MainLocal Labels","Formosa Beach","formosalabel2",13,18,50,50,300,1.2700000000000002,0.8443396226415094,32.63947029912398,-16.951824787718806,60,-250,"foto",""],
[45,"MainLocal Labels","Old Town","oldtownlabel2",13,18,50,58,300,1.3600000000000003,0.8458149779735683,32.64759589274104,-16.899006005301317,-75,10,"foto",""],
[46,"MainLocal Labels","Terreiro da Luta","terreiroluta",13,18,50,50,300,1,0.3067484662576687,32.68466410110833,-16.899051468699554,0,0,"foto",""],
[47,"MainLocal Labels","Aquapark - Santa Cruz","aquapark2",13,18,50,50,300,1,0.5674418604651162,32.68373006995051,-16.796919519232006,0,0,"foto",""],
 

[69,"Local Buildings","Sao Lourenco Palace","lourencoPalace",15,18,15,36,200,2.439999999999998,0.5260115606936416,32.646916787872875,-16.910103533574215,0,0,"foto",""],
[70,"Local Buildings","Town Hall ","townhall",15,18,15,34,200,2.020000000000001,0.48091603053435117,32.649632413630904,-16.90835237000556,0,0,"foto",""],
[71,"Local Buildings","Wine Institut","wineinstitut",15,18,15,26,200,1.9600000000000009,0.4107142857142857,32.65105919627428,-16.90912417795073,0,0,"foto",""],
[72,"Local Buildings","S. Tiago Forth - Museum of Contemporary Art","stiago",15,18,20,50,200,1.9600000000000009,0.6528497409326425,32.64646774786346,-16.898755626526054,0,0,"foto","Museum"],
[73,"Local Buildings","Municipal Garden","municipalgarden",15,18,15,39,200,2.2599999999999993,0.5083798882681564,32.6473220116459,-16.911559696722406,0,0,"foto",""],
[74,"Local Buildings","jesuit college","jesuitas",15,18,15,37,200,2.17,0.5357142857142857,32.64950693831175,-16.909310386125412,0,0,"foto",""],
[75,"Local Buildings","Santa Catarina Park","catarina",15,18,15,112,496,2.0800000000000005,0.5531914893617021,32.64440256379201,-16.914299848113046,0,0,"foto",""],
[76,"Local Buildings","Funchal Market","market1",15,18,15,33,200,1.9500000000000008,0.5136986301369864,32.648474951478654,-16.90381226534214,0,0,"foto",""],
[77,"Local Buildings","Bay","boatslobos",15,18,20,74,337,2.0500000000000007,0.5173410404624278,32.6469873882595,-16.975011265014587,0,0,"foto",""],
[78,"Local Buildings","Market","market1",15,18,20,50,200,1.3000000000000003,0.5136986301369864,32.64869335376384,-16.975272963110342,0,0,"foto",""],
[79,"Local Buildings","S o Sebasti o Church","churchlobos",15,18,20,25,200,1.9600000000000004,0.5338345864661654,32.64869495686444,-16.9779331526031,0,0,"foto",""],
[80,"Local Buildings","Santa Clara Monastery","S.Clara",15,18,20,37,200,1.7900000000000007,0.4158415841584158,32.65103117802171,-16.913253635775618,0,-80,"foto",""],
[81,"Local Buildings","Government","Government",15,18,20,34,200,2.1599999999999997,0.48258706467661694,32.647963064869735,-16.90965296345223,-45,0,"foto",""],
[82,"Local Buildings","Quinta das Cruzes Museum","museuCruzes",15,18,20,36,200,2.0100000000000002,0.5402843601895735,32.650979167229096,-16.913706899475073,50,-50,"foto","Museum"],
[83,"Local Buildings","Museum of the Institute of Embroidery and Tapestry of Madeira","instituto_B_V",15,18,20,26,200,2.1999999999999997,0.502262443438914,32.650609819966974,-16.90323278317817,5,0,"foto","Museum"],
[84,"Local Buildings","Henrique and Francisco Franco Museum","museuHenriques",15,18,20,27,200,2.09,0.6321243523316062,32.651363717829064,-16.904138972705027,0,0,"foto","Museum"],
[85,"Local Buildings","Museological Nucleus of the City of Sugar","Museuacucar",15,18,20,20,200,1.7200000000000006,0.4406779661016949,32.648176380122095,-16.90704773275752,0,0,"foto","Museum"],
[86,"Local Buildings","Casa da Luz Museum","museuLuz",15,18,20,27,200,2.319999999999999,0.5687830687830688,32.647110483607804,-16.904214761381922,0,0,"foto","Museum"],
[87,"Local Buildings","Baltazar Dias Municipal Theatre","BaltazarDias",15,18,20,26,200,2.179999999999999,0.46825396825396826,32.64684842372694,-16.91155384390254,0,0,"foto","Museum"],
[88,"Local Buildings","Goncalves Zarco Statue ","Estatua",15,18,20,20,200,1.6000000000000005,0.3595505617977528,32.64792298860014,-16.90983042797825,-30,0,"foto",""],
[89,"Local Buildings","Socorro Church","socorrochurch",15,18,20,25,200,1.6500000000000006,0.44047619047619047,32.64698049617221,-16.897622979104085,50,0,"foto",""],
[90,"Local Buildings","English Church","inglesa",15,18,20,26,206,1.6600000000000006,0.5,32.64951275889715,-16.914328752473807,-50,0,"foto",""],
[91,"Local Buildings","Corpo Santo Chapel","CorpoSantoChapel",15,18,20,21,200,1.5400000000000005,0.5714285714285714,32.64757735273638,-16.89998676351263,-60,-20,"foto",""],
[92,"Local Buildings","N  S  da Conceicao - Design Centre","molhe",15,18,20,50,200,2.3799999999999986,0.4961636828644501,32.64092501665999,-16.915016037345936,0,0,"foto","Museum"],
[93,"Local Buildings","Monte sledges Arrival","CestosMonte",15,18,20,71,200,1.5100000000000005,0.5471698113207547,32.66427351621091,-16.90395135443123,0,0,"foto",""],
[94,"Local Buildings"," Infant roundabout","InfanteRotunda",15,18,20,34,200,1.6700000000000006,0.5281385281385281,32.64642420191318,-16.913100650388742,0,-10,"foto",""],
[95,"Local Buildings","Lido Swimming pool","lido",15,18,20,75,200,2.0500000000000007,0.6299212598425197,32.63523327214207,-16.93289439434477,0,0,"foto",""],
[96,"Local Buildings","Ponta gorda Swimmin pool","gorda",15,18,20,41,217,1.6000000000000005,0.6787330316742082,32.634197912888894,-16.94046913258512,-5,0,"foto",""],
[97,"Local Buildings","Quinta Magnolia Gardens","magnolia",15,18,20,74,212,2.0800000000000005,0.5,32.64328543255511,-16.92498254873385,0,0,"foto",""],
[98,"Local Buildings","Funchal Marina","marinafunchal",15,18,20,74,200,1.8100000000000007,0.6388443017656501,32.645172446674536,-16.91031931584257,0,0,"foto",""],
[99,"Local Buildings","Caves - Doca do Cavacas","caves",15,18,20,50,200,1,0.6126760563380281,32.6360091640023,-16.947708241433133,0,0,"foto",""],
[100,"Local Buildings","Hospital","Health",15,18,20,20,200,1.7600000000000007,0.5,32.64630543017246,-16.9231081533527,0,-50,"foto",""],

[101,"Local Buildings","Hospital","Health",15,18,20,22,200,1.7200000000000006,0.5,32.67198481341941,-16.908351788483742,0,0,"foto",""],
[102,"Local Shop","Rua Fernao Ornelas","shop",16,18,12,12,200,1.9,0.5454545454545454,32.64914580241772,-16.905680623464605,0,-15,"foto",""],
[103,"Local Shop","Rua Queimadas","shop",16,18,12,12,200,1.9,0.5454545454545454,32.64900650434345,-16.907690763692926,0,0,"foto",""],
[104,"Local Catering","Old Town1","Cater",16,18,12,12,200,1.9,0.5,32.64783670907505,-16.901763391443524,0,0,"foto",""],
[105,"Local Catering","Old Town","Cater",16,18,12,12,200,1.9,0.5,32.64731952800169,-16.89933331007603,0,0,"foto",""],
[106,"Local Catering","Queimadas","Cater",16,18,12,12,200,1.9,0.5,32.6489934163719,-16.908455534403174,0,0,"foto",""],
[107,"Local Catering","Rua da Carreira","Cater",16,18,12,12,200,1.9,0.5,32.64891367159491,-16.914608700799022,0,0,"foto",""],
[108,"Local Catering","Rua D. Am?lia","Cater",16,18,12,12,200,1.9,0.5,32.64312960971838,-16.920301653158276,0,0,"foto",""],
[109,"Local Catering","Rua do Carmo","Cater",16,18,12,12,200,1.9,0.5,32.6503032812445,-16.90624305921233,0,0,"foto",""],
[110,"Local Catering","Lido1","Cater",16,18,12,12,200,1.9,0.5,32.637097932921804,-16.93121348926661,0,0,"foto",""],
[111,"Local Catering","Lido2","Cater",16,18,12,12,200,1.9,0.5,32.63684795315647,-16.93407151541635,0,0,"foto",""],
[112,"Local Catering","Lido3","Cater",16,18,12,12,200,1.9,0.5,32.63835223709321,-16.933974955891813,0,0,"foto",""],
[113,"Local Catering","Lido 4","Cater",16,18,12,12,200,1.9,0.5,32.63828413414423,-16.932626790899803,0,0,"foto",""],
[114,"Local Catering","Carreira2","Cater",16,18,12,12,200,1.9,0.5,32.64873309089031,-16.912260190698476,0,0,"foto",""],
[115,"Local Catering","Catering area","Cater",16,18,12,12,200,1.9,0.5,32.634899598115304,-16.944006011002784,0,0,"foto",""],
[116,"Local Catering","Catering Area","Cater",16,18,12,12,200,1.9,0.5,32.63518269449723,-16.947338287891853,0,0,"foto",""],
[117,"Local Catering","Catering Area","Cater",16,18,12,12,200,1.9,0.5,32.63518269449723,-16.947338287891853,0,0,"foto",""],
[118,"Local Catering","Catering Area","Cater",16,18,12,12,200,1.9,0.5,32.6398171399185,-16.927577678932607,0,0,"foto",""],
[119,"Local Catering","Catering area","Cater",16,18,12,12,200,1.9,0.5,32.639053315032776,-16.930323891682065,0,0,"foto",""],
[120,"Local Catering","Catering Area","Cater",16,18,12,12,200,1.9,0.5,32.64436238125508,-16.92017975271051,0,0,"foto",""],
[121,"Local Catering","Catering Area","Cater",16,18,12,12,200,1.9,0.5,32.64636136925567,-16.910473328915145,0,0,"foto",""],
[122,"PostOffice","Post Office C.L.","PostOffice",16,18,12,12,200,1.6,0.5,32.64916922053691,-16.977128489898632,0,0,"foto",""],
[123,"PostOffice","Post Office - S. Ant nio","PostOffice",16,18,12,12,200,1.6,0.5,32.66021515853196,-16.950811106608853,0,0,"foto",""],
[124,"PostOffice","Post Office - Av. Zarco","PostOffice",16,18,12,12,200,1.6,0.5,32.648411632762276,-16.91006465980081,0,0,"foto",""],
[125,"PostOffice","Post Office - R. Bela S. Tiago","PostOffice",16,18,12,12,200,1.6,0.5,32.64890418861941,-16.902274993968604,0,0,"foto",""],
[126,"Churchs","N. S. da Concei  o Chapel","Church",16,18,12,12,200,1.6,0.5087719298245614,32.647493477636765,-16.97598050444026,0,0,"foto",""],
[127,"State","Town Hall","State",16,18,12,12,200,1.6,0.5531914893617021,32.648703990481664,-16.978265746520947,0,0,"foto",""],
[128,"Library","Library","Library",16,18,12,12,200,1.6,0.5310344827586206,32.64916922053694,-16.978255017684887,0,0,"foto",""],
[129,"Health","Health Centre C.L.","Health",16,18,12,12,200,1.6,0.5,32.649566696724996,-16.97518657057185,0,0,"foto",""],
[130,"Culture","Cuture House C.L.","Culture",16,18,12,12,200,1.6,0.5,32.64887562903625,-16.97615216581721,0,0,"foto",""],
[131,"Police","Police Station - Funchal","Police",16,18,12,12,200,1.6,0.5,32.65097591624622,-16.901865704940747,0,0,"foto",""],
[132,"Court","Court","Court",16,18,12,12,200,1.6,0.5409836065573771,32.65037301838422,-16.908762057568765,0,0,"foto",""],
[133,"Fireman","Fireman","Fireman",16,18,12,12,200,1.6,0.4827586206896552,32.65364975890234,-16.90149019567866,0,0,"foto",""],
[134,"Fireman","Fireman","Fireman",16,18,12,12,200,1.6,0.4827586206896552,32.64814842132242,-16.917019693940574,0,0,"foto",""],
[135,"Local Sponsors","Story Center","storycenter",15,18,20,30,200,1.55,0.4970344009489917,32.64786568382644,-16.902672477954297,0,0,"foto","Museum"],
[136,"Local BarsA","OldTown 1","Bars",16,18,15,23,200,1.87,0.6,32.64783670907505,-16.901763391443524,0,0,"foto",""],
[137,"Local BarsA","Old Town2","Bars",16,18,15,23,200,1.87,0.6,32.64767768628691,-16.900395345218612,0,0,"foto",""],
[138,"Local BarsA","Largo das Fontes","Bars",16,18,15,23,200,1.87,0.6,32.64665361152184,-16.911011442121435,0,0,"foto",""],
[139,"Local BarsA","Bars D. Am?lia","Bars",16,18,15,23,200,1.87,0.6,32.64322302554489,-16.921732665898276,0,0,"foto",""],
[140,"Local BarsA","Hole in One","Bars",16,18,15,23,200,1.87,0.6,32.63924673818715,-16.92748885171443,0,0,"foto",""],
[141,"Local BarsA","Bars Area C.L.","Bars",16,18,15,23,200,1.87,0.6,32.64808035397471,-16.975459046768265,0,0,"foto",""],
[142,"Local BarsA","Bars Lido Area","Bars",16,18,15,23,200,1.87,0.6,32.636620581748744,-16.934412221910634,0,0,"foto",""],
[143,"Local BarsA","Bars Lido Area","Bars",16,18,15,23,200,1.87,0.6,32.636620581748744,-16.934412221910634,0,0,"foto",""],
[144,"Local BarsA","Bars Ajuda Area","Bars",16,18,15,23,200,1.87,0.6,32.63647718527401,-16.938338364466404,0,0,"foto",""],
[145,"Local BarsA","Bars Area","Bars",16,18,15,23,200,1.87,0.6,32.71857768780312,-16.759757845494732,0,0,"foto",""],
[146,"Local BarsA","Av. Arriaga Bars area","Bars",16,18,15,23,200,1.87,0.6,32.64732600499719,-16.91113013169729,0,0,"foto",""],
[147,"Local BarsB","Bars CR7","Bars2",16,18,15,23,200,2.03,0.6,32.64286958808286,-16.91567981934361,0,0,"foto",""],
[148,"Local BarsB","Bars area","Bars2",16,18,15,23,200,2.03,0.6,32.6401615515874,-16.929156938622555,0,0,"foto",""],
[149,"Local BarsB","Bars Area","Bars2",16,18,15,23,200,2.03,0.6,32.647043199978285,-16.897194079529868,0,0,"foto",""],
[150,"Disco","Vespas Disco","Disco",16,18,15,23,200,2.03,0.5,32.643555231694855,-16.91552702582237,0,0,"foto",""],

[151,"Disco","Scat","Disco",16,18,15,23,200,2.03,0.5,32.64300866474243,-16.921890312032474,0,0,"foto",""],
[152,"Disco","Vintage","Disco",16,18,15,23,200,2.03,0.5,32.648142628876585,-16.903595161543763,0,0,"foto",""],
[153,"Local MuseumsA"," Museum of Sacred Art","MuseumA",16,18,15,20,200,1.2,0.5116279069767442,32.64952797319975,-16.908401509895157,0,0,"foto",""],
[154,"Local MuseumsA"," Frederico de Freitas Museum House","MuseumA",16,18,15,20,200,1.2,0.5116279069767442,32.650212333523015,-16.912462374343704,0,0,"foto",""],
[155,"Local MuseumsA","Whale museum","MuseumA",16,18,15,20,200,1.2,0.5116279069767442,32.73549184942535,-16.74016579448744,0,0,"foto",""],
[156,"Local MuseumsA"," Ethnographic Museum of Madeira","MuseumA",16,18,15,20,200,1.2,0.5116279069767442,32.67287004990306,-17.06337057241751,0,0,"foto",""],
[157,"Local MuseumsA"," Arts Center - Casa das Mudas","MuseumA",16,18,15,20,200,1.2,0.5116279069767442,32.72316650462581,-17.18070600395174,0,0,"foto",""],
[158,"Local MuseumsA","Casa Colombo Museum","MuseumA",16,18,15,20,200,1.2,0.5116279069767442,33.05943807268682,-16.335579328058657,0,0,"foto",""],
[159,"Local MuseumsA","Folk Art Museum","MuseumA",16,18,15,20,200,1.2,0.5116279069767442,32.656397316464584,-16.88774430197168,0,0,"foto",""],
[160,"Local MuseumsB"," Museology Nucleus Mary Jane Wilson","MuseumB",16,18,15,15,200,1.2,0.5116279069767442,32.65056770846564,-16.903752487290376,0,0,"foto",""],
[161,"Local MuseumsB","Civic Center for Cultural Animation Edmundo Bettencourt","MuseumB",16,18,15,15,200,1.2,0.5116279069767442,32.64867504317827,-16.902443400662833,0,0,"foto",""],
[162,"Local MuseumsB"," Natural History Museum","MuseumB",16,18,15,15,200,1.2,0.5116279069767442,32.649501615563274,-16.912356845181876,0,0,"foto",""],
[163,"Local MuseumsB"," Museum of Photography Vicentes","MuseumB",16,18,15,15,200,1.2,0.5116279069767442,32.64893627479366,-16.910257598533462,0,0,"foto",""],
[164,"Local MuseumsB","J.C. Abreu Universo de Mem?rias","MuseumB",16,18,15,15,200,1.2,0.5116279069767442,32.65127827597189,-16.913481613769363,0,0,"foto",""],
[165,"Local MuseumsB"," Toy Museum","MuseumB",16,18,15,15,200,1.2,0.5116279069767442,32.648453049019516,-16.902704497947525,0,0,"foto",""],
[166,"Local MuseumsB","Press Museum C.L.","MuseumB",16,18,15,15,200,1.2,0.5116279069767442,32.648988548958265,-16.978351577209423,0,0,"foto",""],
[167,"Main Walk","Caldeirao Verde Levada Walk","walkA",11,18,15,22,200,1.2,0.5,32.7837335585187,-16.906374649178588,-100,0,"foto","AllWalks"],
[168,"Main Walk","25 Fountains Levada","walkA",11,18,15,22,200,1.2,0.5,32.765649763184406,-17.12936265376152,-5,-20,"foto","AllWalks"],
[169,"Main Walk","Risco Levada","walkA",11,18,15,22,200,1.2,0.5,32.76187366329018,-17.130640969876822,50,-100,"foto","AllWalks"],
[170,"Main Walk","Rabacal Levada","walkA",11,18,15,22,200,1.2,0.5,32.762036416009614,-17.137013898496207,135,0,"foto","AllWalks"],
[171,"Main Walk","Achada do Teixeira to Pico Ruivo Walk","walkA",11,18,15,22,200,1.2,0.5,32.76499002789212,-16.92092403024685,-125,-50,"foto","AllWalks"],
[172,"Main Walk","Balc es Levada Walk","walkA",11,18,15,22,200,1.2,0.5,32.73623360975641,-16.8883318293,115,-25,"foto","AllWalks"],
[173,"Main Walk","S. Louren o Walk","walkA",11,18,15,22,200,1.2,0.5,32.74424979224127,-16.70081043399898,105,0,"foto","AllWalks"],
[174,"Main Walk","Pico do Areeiro - Pico Ruivo Walk","walkA",11,18,15,22,200,1.2,0.5,32.73575851617383,-16.929593337192728,210,-65,"foto","AllWalks"],
[175,"WaterfallA","Caldeirao Verde Waterfall","waterfall",15,18,15,45,200,1.2,0.4827586206896552,32.77108078487784,-16.943067241930066,0,0,"foto","AllWalks"],
[176,"WaterfallA","Waterfall","waterfall",15,18,15,45,200,1.2,0.4827586206896552,32.686613044825,-17.113795528182663,0,0,"foto",""],
[177,"WoodhouseA","WoodHouse Caldeirao Verde","woodHouse",15,18,15,45,200,1.2,0.5172413793103449,32.78364163641099,-16.9070262750854,75,-55,"foto","AllWalks"],
[178,"ViewWalkA","Balc es ViewPoint","ViewPoint1",15,18,15,45,200,1.2,0.5,32.74142548149716,-16.890175806564457,0,0,"foto","AllWalks"],
[179,"Lake","Lagoon Ribeira da Janela Walk","lake3",15,18,15,45,200,1.2,0.4827586206896552,32.788020808156936,-17.156174433880892,0,0,"foto","AllWalks"],
[180,"Medium Walk","Tornos Walk","walkB",13,18,15,36,200,1.2,0.5,32.67761046122856,-16.897091372894238,-100,30,"foto","AllWalks"],
[181,"Medium Walk","Portela Walk","walkB",13,18,15,36,200,1.2,0.5,32.7398341808717,-16.877678881130123,0,0,"foto","AllWalks"],
[182,"Medium Walk","Moinho - Nova Walk Levada","walkB",13,18,15,36,200,1.2,0.5,32.68938452345196,-17.091575416092383,115,-35,"foto","AllWalks"],
[183,"Medium Walk","King Levada Walk","walkB",13,18,15,36,200,1.2,0.5,32.8178118032336,-16.92662052506728,0,0,"foto","AllWalks"],
[184,"Medium Walk","Ribeira da Janela Levada Walk","walkB",13,18,15,36,200,1.2,0.5,32.851200643303756,-17.16642407507186,0,0,"foto","AllWalks"],
[185,"Medium Walk","Cedros Levada Walk","walkB",13,18,15,36,200,1.2,0.5,32.8255679966109,-17.156963038613753,0,0,"foto","AllWalks"],
[186,"Medium Walk","Fanal Walk","walkB",13,18,15,36,200,1.2,0.5,32.767164715870194,-17.108114094350753,0,0,"foto","AllWalks"],
[187,"Medium Walk","Tornos - Boaventura Levada Walk","walkB",13,18,15,36,200,1.2,0.5,32.78020672025502,-16.979657487395457,0,0,"foto","AllWalks"],
[188,"Medium Walk","Caminho Real da Encomeada","walkB",13,18,15,36,200,1.2,0.5,32.753440212679536,-17.02027329742839,0,0,"foto","AllWalks"],
[189,"Medium Walk","Marocos Levada Walk ","walkB",13,18,15,36,200,1.2,0.5,32.73523377032745,-16.80395642282224,0,0,"foto","AllWalks"],
[190,"WaterfallB","Waterfall Ribeira da Janela Walk","waterfall",15,18,15,45,200,1.2,0.4827586206896552,32.82479382738842,-17.180448614408647,0,0,"foto","AllWalks"],
[191,"WoodhouseB","Sardinha House","woodHouse",15,18,15,45,200,1.2,0.5172413793103449,32.74204154598509,-16.68353923286338,0,0,"foto","AllWalks"],
[192,"WoodhouseB","Levadeiros House","woodHouse",15,18,15,45,200,1.2,0.5172413793103449,32.82430937662656,-17.175853813023764,0,0,"foto","AllWalks"],
[193,"WoodhouseB","Boca da Corrida House","woodHouse",15,18,15,45,200,1.2,0.5172413793103449,32.71062533912417,-16.987121475430285,25,0,"foto","AllWalks"],
[194,"ViewWalkB","Ponta do Furado","ViewPoint",15,18,15,45,200,1.2,0.5,32.73840472892698,-16.67954810584922,0,0,"foto","AllWalks"],
[195,"Local Walk","Piornais Levada","walkB",15,18,15,36,200,1.2,0.5,32.6436893856601,-16.928537756028845,0,0,"foto","AllWalks"],
[196,"Local Walk","North Levada  Walk","walkB",15,18,15,36,200,1.2,0.5,32.667756314307915,-17.005463092358923,0,0,"foto","AllWalks"],
[197,"Local Walk","Larano Path Walk","walkB",15,18,15,36,200,1.2,0.5,32.73282680763309,-16.76460029882014,0,0,"foto","AllWalks"],
[198,"Local Walk","Rodrigues Faja Walk","walkB",15,18,15,36,200,1.2,0.5,32.77993757075889,-17.048144239843737,0,0,"foto","AllWalks"],
[199,"Local Walk","Cani al  to Boca do Risco Walk - Levada","walkB",15,18,15,36,200,1.2,0.5,32.733215377436466,-16.76222859029076,0,0,"foto","AllWalks"],
[200,"Local Walk","Castelejo Levada Walk","walkB",15,18,15,36,200,1.2,0.5,32.75588920526692,-16.836405166089094,0,0,"foto","AllWalks"],

[201,"DangerWalkC","Danger Piornais Walk","Danger2",15,18,15,45,200,1.2,0.5,32.65252097028621,-16.958863372384712,0,0,"foto","AllWalks"],
[202,"DangerWalkC","Danger Bom Sucesso Walk","Danger2",15,18,15,45,200,1.2,0.5,32.6596364484525,-16.89909958087037,0,0,"foto","AllWalks"],
[203,"DangerWalkC","Dangerous Sidewalk","Danger2",15,18,15,45,200,1.2,0.5,32.66247897601009,-17.03316877653458,0,0,"foto",""],
[204,"Parks","Pico das Pedras - Park","Park_icon",13,18,15,46,200,1.2,0.5,32.77715031589501,-16.89707742494852,0,0,"foto","AllWalks"],
[205,"Parks","Lamaceiros Park","Park_icon",13,18,15,46,200,1.2,0.5,32.85155498770923,-17.1664490063431,180,0,"foto",""],
[206,"Parks","Chao da Ribeira Park","Park_icon",13,18,15,46,200,1.2,0.5,32.810080610976264,-17.114968521771743,0,0,"foto",""],
[207,"Parks","Remedios Park","Park_icon",13,18,15,46,200,1.2,0.5,32.70553251826146,-16.799547924510534,0,0,"foto",""],
[208,"Parks","Chao dos louros Park","Park_icon",13,18,15,46,200,1.2,0.5,32.76012003351023,-17.01592519498854,0,-35,"foto",""],
[209,"Parks","Chao das Feiteiras Park","Park_icon",13,18,15,46,200,1.2,0.5,32.72143764365909,-16.886268929354515,0,0,"foto",""],
[210,"Parks","Montado do Pereiro Park","Park_icon",13,18,15,46,200,1.2,0.5,32.702896950414804,-16.88753574565567,0,0,"foto",""],
[211,"Main ViewPoint","Pico do Areeiro ViewPoint","ViewPoint1",11,18,15,24,200,1.2,0.5,32.735341089928795,-16.928492081974355,0,35,"foto",""],

[213,"Main ViewPoint","Eira do Serrado","ViewPoint1",11,18,15,24,200,1.2,0.5,32.70946322683702,-16.963788313353803,0,0,"foto",""],
[214,"Main ViewPoint","Pico dos Barcelos","ViewPoint1",11,18,15,24,200,1.2,0.5,32.65915966493357,-16.93998835174193,0,-45,"foto",""],
[215,"Main ViewPoint","Encomeada","ViewPoint1",11,18,15,24,200,1.2,0.5,32.754315154520675,-17.019443874299668,0,0,"foto",""],
[216,"Main ViewPoint","Portela","ViewPoint1",11,18,15,24,200,1.2,0.5,32.74701584812384,-16.82597843320491,0,0,"foto","AllWalks"],
[217,"Main ViewPoint","Sao Sebastiao ","ViewPoint1",11,18,15,24,200,1.2,0.5,32.669487629503315,-17.062700288029987,0,-60,"foto",""],
[218,"Main ViewPoint","Santa","ViewPoint1",11,18,15,24,200,1.2,0.5,32.862453354754564,-17.17307128345533,0,-65,"foto",""],
[219,"Main ViewPoint","Pico do Facho","ViewPoint1",11,18,15,24,200,1.2,0.5,32.72401066159036,-16.75848881025877,0,0,"foto",""],
[220,"Main ViewPoint","Achadas da Cruz","ViewPoint1",11,18,15,24,200,1.2,0.5,32.85246871615229,-17.21024380137385,0,0,"foto",""],
[221,"Main ViewPoint","Ponta do Sol","ViewPoint1",11,18,15,24,200,1.2,0.5,32.67826230153394,-17.104326902771163,-40,0,"foto",""],
[222,"Main ViewPoint","O Fio - ViewPoint","ViewPoint1",11,18,15,24,200,1.2,0.5,32.80915822462461,-17.256446413742083,0,70,"foto",""],
[223,"Medium ViewPoint","Pico Alto","ViewPoint1",13,18,15,18,200,1.2,0.5,32.69301553191481,-16.902606765313294,0,0,"foto",""],
[224,"Medium ViewPoint","Nazar?","ViewPoint1",13,18,15,18,200,1.2,0.5,32.64204752517668,-16.932726785547175,0,0,"foto",""],
[225,"Medium ViewPoint","Rocha Navio","ViewPoint1",13,18,15,18,200,1.2,0.5,32.814479691217194,-16.876644912462893,0,0,"foto",""], 
[226,"Medium ViewPoint","Fortim do Pico","ViewPoint1",13,18,15,18,200,1.2,0.5,32.77467829436613,-16.827689088255966,0,0,"foto",""],
[227,"Medium ViewPoint","Queimada","ViewPoint1",13,18,15,18,200,1.2,0.5,32.715310640755696,-16.773245444519375,0,0,"foto",""],
[228,"Medium ViewPoint","Pin?culo","ViewPoint1",13,18,15,18,200,1.2,0.5,32.646019260575734,-16.872541008400276,0,0,"foto",""],
[229,"Medium ViewPoint","Bica da Cana","ViewPoint1",13,18,15,18,200,1.2,0.5,32.758255364274014,-17.05708203745769,0,0,"foto",""],
[230,"Local ViewPoint","Sao Jose","ViewPoint1",13,18,15,18,200,1.2,0.5,32.77545954766435,-16.82647517871669,0,0,"foto",""],
[231,"Main ViewPoint","Veu da Noiva","ViewPoint1",13,18,15,18,200,1.2,0.5,32.81613039935796,-17.095002259846638,0,0,"foto",""],
[232,"Medium ViewPoint","Cabo Vigia","ViewPoint1",13,18,15,18,200,1.2,0.5,32.83443234318919,-16.911302917137164,0,0,"foto",""],
[233,"Medium ViewPoint","Beira da Quinta - ViewPoint","ViewPoint1",13,18,15,18,200,1.2,0.5,32.82643754261981,-16.938994767680242,0,0,"foto",""],
[234,"Medium ViewPoint","Pico da Torre","ViewPoint1",13,18,15,18,200,1.2,0.5,32.6520211609521,-16.973778764273902,0,0,"foto",""],
[235,"Medium ViewPoint","Islet Point View","ViewPoint1",13,18,15,18,200,1.2,0.5,32.64832026659476,-16.977750762390087,0,0,"foto",""],
[236,"Medium ViewPoint","Curtado ViewPoint","ViewPoint1",13,18,15,18,200,1.2,0.5,32.79066994437596,-16.859888888630394,0,0,"foto",""],
[237,"Medium ViewPoint","Chao dos louros","ViewPoint1",13,18,15,18,200,1.2,0.5,32.76170050897424,-17.015598779537072,0,0,"foto",""],
[238,"Medium ViewPoint","Boca da Corrida Viewpoint","ViewPoint1",13,18,15,18,200,1.2,0.5,32.71111421340685,-16.986620660610924,0,0,"foto","AllWalks"],
[239,"Local ViewPoint","Marmeleiros","ViewPoint2",16,18,15,18,200,1.2,0.5,32.66917711757763,-16.909155367174435,0,0,"foto",""],
[240,"Local ViewPoint","Cruzes","ViewPoint2",16,18,15,18,200,1.2,0.5,32.65057791443865,-16.913761196541145,0,0,"foto",""],
[241,"Local ViewPoint","Conde Carvalhal","ViewPoint2",16,18,15,18,200,1.2,0.5,32.64962822601249,-16.895503300889686,0,0,"foto",""],
[242,"Local ViewPoint","S?o Roque","ViewPoint2",16,18,15,18,200,1.2,0.5,32.6684024329944,-16.92333390162821,0,0,"foto",""],
[243,"Local ViewPoint","Campan?rio","ViewPoint2",16,18,15,18,200,1.2,0.5,32.66816142891076,-17.03360319974047,0,0,"foto",""],
[244,"Local ViewPoint","Cardais","ViewPoint2",16,18,15,18,200,1.2,0.5,32.80396653966123,-17.043835715905175,0,0,"foto",""],
[245,"Local ViewPoint","Faj? dos Padres","ViewPoint2",16,18,15,18,200,1.2,0.5,32.65678947644511,-17.021697747465396,0,0,"foto",""],
[246,"Local ViewPoint","Farol Verde","ViewPoint2",16,18,15,18,200,1.2,0.5,32.70785109455003,-17.14044864579114,0,0,"foto",""],
[247,"Local ViewPoint","Cam?es Pequeno","ViewPoint2",16,18,15,18,200,1.2,0.5,32.71098145057967,-16.77245338722787,0,0,"foto",""],
[248,"Local ViewPoint","Guindaste","ViewPoint2",16,18,15,18,200,1.2,0.5,32.794056587155794,-16.849336473385392,0,0,"foto",""],
[249,"Local ViewPoint","Senhor dos Milagres","ViewPoint2",16,18,15,18,200,1.2,0.5,32.72060349340606,-16.762108908189475,0,0,"foto",""],
[250,"Local ViewPoint","Trigo Negro","ViewPoint2",16,18,15,18,200,1.2,0.5,32.70595042169472,-17.139847417065653,0,0,"foto",""],
[252,"Local ViewPoint","Cabe?a Rosto","ViewPoint2",16,18,15,18,200,1.2,0.5,32.80618615522445,-16.910026910319402,0,0,"foto",""],
[253,"Local ViewPoint","Choupana","ViewPoint2",16,18,15,18,200,1.2,0.5,32.663179490566925,-16.880476871759583,0,0,"foto",""],
[254,"Local ViewPoint","Curral Romeiros","ViewPoint2",16,18,15,18,200,1.2,0.5,32.6800732286206,-16.89077851795878,0,0,"foto",""],
[255,"Local ViewPoint","Tabaiba - ViewPoint","ViewPoint2",16,18,15,18,200,1.2,0.5,32.66443436340059,-16.900393013703706,0,0,"foto",""],
[256,"Local ViewPoint","Palheiro Ferreiro","ViewPoint2",16,18,15,18,200,1.2,0.5,32.660035944115435,-16.87490114752063,0,0,"foto",""],
[257,"Local ViewPoint","Achada","ViewPoint2",16,18,15,18,200,1.2,0.5,32.65733971060028,-16.91939363065967,0,0,"foto",""],
[258,"Local ViewPoint","Cascalho","ViewPoint2",16,18,15,18,200,1.2,0.5,32.682663069936225,-17.092337902919894,0,0,"foto",""],
[259,"Local ViewPoint","Eira Achada","ViewPoint2",16,18,15,18,200,1.2,0.5,32.848189070744496,-17.15277806253357,0,0,"foto",""],
[260,"Local ViewPoint","Eiras","ViewPoint2",16,18,15,18,200,1.2,0.5,32.81203062292482,-16.912967381062913,0,0,"foto",""],
[261,"Local ViewPoint","Espig?o","ViewPoint2",16,18,15,18,200,1.2,0.5,32.70526271321826,-17.03068874774158,0,0,"foto",""],
[262,"Local ViewPoint","Bot?nico","ViewPoint2",16,18,15,18,200,1.2,0.5,32.663220528056335,-16.895603885385754,0,0,"foto",""],
[263,"Local ViewPoint","Padre Pita","ViewPoint2",16,18,15,18,200,1.2,0.5,32.64910506325147,-16.883170886855055,0,0,"foto",""],
[264,"Local ViewPoint","Neves","ViewPoint2",16,18,15,18,200,1.2,0.5,32.64566772141282,-16.87027482591145,0,0,"foto",""],
[265,"Local ViewPoint","Pedra Mole","ViewPoint2",16,18,15,18,200,1.2,0.5,32.86342595270696,-17.17589911431992,0,0,"foto",""],
[266,"Local ViewPoint","Pedra Atalaia","ViewPoint2",16,18,15,18,200,1.2,0.5,32.65032373021496,-16.817976971473627,0,0,"foto",""],
[267,"Local ViewPoint","Piarro","ViewPoint2",16,18,15,18,200,1.2,0.5,32.718673981972465,-17.17012485274563,0,0,"foto",""],
[268,"Local ViewPoint","Pico S?o Jorge","ViewPoint2",16,18,15,18,200,1.2,0.5,32.82251004999323,-16.902386109251438,0,0,"foto",""],
[269,"Local ViewPoint","Pico Pol?cia","ViewPoint2",16,18,15,18,200,1.2,0.5,32.68027194125545,-17.105423531619067,0,0,"foto",""],
[270,"Local ViewPoint","Pico Ter?as","ViewPoint2",16,18,15,18,200,1.2,0.5,32.685337866792864,-17.10160406598186,0,0,"foto",""],
[271,"Local ViewPoint","Ros?rio","ViewPoint2",16,18,15,18,200,1.2,0.5,32.67882814361446,-16.799326495920127,0,0,"foto",""],
[272,"Local ViewPoint","Socorro ViewPoint","ViewPoint2",16,18,15,18,200,1.2,0.5,32.64668454149571,-16.897642504136,0,0,"foto",""],
[273,"Main Beach","Formosa Beach","Beach",11,18,15,32,200,1.22,0.5050505050505051,32.63950214257843,-16.95191074083766,80,-40,"foto",""],
[274,"Main Beach","Calheta Beach","Beach",11,18,15,32,200,1.22,0.5050505050505051,32.71949990449691,-17.17533254061766,0,0,"foto",""],
[275,"Main Beach","Machico Beach","Beach",11,18,15,32,200,1.22,0.5050505050505051,32.71832275363708,-16.7619840873939,-85,-40,"foto",""],
[276,"Medium Beach","Prainha Beach","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.74263529529403,-16.715852772756307,0,0,"foto",""],
[277,"Medium Beach","Doca do Cavacas Beach","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.635012469271736,-16.948155846809186,0,0,"foto",""],
[278,"Medium Beach","Ponta Gorda Beach","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.634185762982135,-16.94078408248356,0,0,"foto",""],
[279,"Medium Beach","Lido Beach Complex","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.635382903491504,-16.932479963373453,0,0,"foto",""],
[280,"Medium Beach","Ribeira Brava Beach Complex","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.671033821315234,-17.06676691245775,0,0,"foto",""],
[281,"Medium Beach","Pa?l do Mar Beach","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.752411765923384,-17.22496397850091,0,0,"foto",""],
[282,"Medium Beach","Garajau Beach","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.63827213717423,-16.85289414092358,0,0,"foto",""],
[283,"Medium Beach","Salinas Beach Complex","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.646338357590295,-16.973303463678576,0,0,"foto",""],
[284,"Medium Beach","Calhau da Lapa Beach","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.66179963046122,-17.03743840917491,0,0,"foto",""],
[285,"Medium Beach","Faj? dos Padres Beach","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.654794812284635,-17.022632615412704,0,0,"foto",""],
[286,"Medium Beach","Anjos Beach","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.679151885689016,-17.10543991866564,65,0,"foto",""],
[287,"Medium Beach","Madalena do Mar Beach","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.69295030703672,-17.12553668801604,0,0,"foto",""],
[288,"Medium Beach","Porto Moniz Beach Complex","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.867878287098186,-17.168532498802847,0,0,"foto",""],
[289,"Medium Beach","Seixal Beach Complex","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.82280723765115,-17.102831817985134,0,0,"foto",""],
[290,"Medium Beach","Lage Beach (Seixal)","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.82685983139144,-17.114086367011623,0,0,"foto",""],
[291,"Medium Beach","Ponta Delgada Beach Complex","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.82770467501772,-16.98425022567585,0,0,"foto",""],
[292,"Medium Beach","Ribeira do Faial Beach Complex","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.792873720143696,-16.848951527282225,0,0,"foto",""],
[293,"Medium Beach","Ribeira de Natal Beach Complex","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.73610254773562,-16.738769716632646,0,0,"foto",""],
[294,"Medium Beach","Alagoa Beach","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.77435090169142,-16.828751023302175,0,0,"foto",""],
[295,"Medium Beach","Reis Magos Beach","Beach",13,18,15,22,200,1.3,0.5050505050505051,32.64709380133583,-16.824169559979623,0,0,"foto",""],
[296,"Local Beach","Barreirinha Beach Complex","Beach",16,18,15,44,200,1.2,0.5050505050505051,32.64649410115773,-16.897439135063223,0,0,"foto",""],
[297,"Local Beach","Sao Tiago Beach","Beach",16,18,15,44,200,1.2,0.5050505050505051,32.64644215656238,-16.898951900947623,0,0,"foto",""],
[298,"Local Beach","Gorgulho Beach","Beach",16,18,15,44,200,1.2,0.5050505050505051,32.63625946027811,-16.9344923605953,0,0,"foto",""],
[299,"Local Beach","Vig?rio Beach ","Beach",16,18,15,44,200,1.2,0.5050505050505051,32.64849341340056,-16.97921732533723,0,0,"foto",""],
[300,"Local Beach","Porto da Cruz Beach Complex","Beach",16,18,15,44,200,1.2,0.5050505050505051,32.773611184641375,-16.827248986253835,0,0,"foto",""],
[301,"Local Beach","Palmeiras Beach","Beach",16,18,15,44,200,1.2,0.5050505050505051,32.68643283604833,-16.79159578898475,0,0,"foto",""],

]//Finish 
 

// wigth labels <= 11
var myStyles1=[
     {"featureType":"administrative.locality","elementType":"labels.text.fill","stylers":[{"visibility":"on"},{ "color": "#c0c0c0"},{"visibility": "simplified"}]},
     {"featureType":"landscape.natural","elementType":"labels","stylers":[{"visibility":"on"}]},
     {"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},
     {"featureType":"road.highway","elementType":"labels.icon","stylers":[{"visibility":"off"}]},
     {"featureType":"transit","elementType":"labels","stylers":[{"visibility":"off"}]},
     {"featureType":"water","elementType":"labels","stylers":[{"visibility":"off"}]},
     {"featureType":"road.arterial","elementType":"labels","stylers":[{"visibility":"off"}]},
];

// normal labels >= 13
var myStyles2=[
     {"featureType":"administrative.locality","elementType":"labels","stylers":[{"visibility":"on"},{"weight":1}]},
     {"featureType":"landscape.natural","elementType":"labels","stylers":[{"visibility":"on"}]},
     {"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},
     {"featureType":"road.highway","elementType":"labels.icon","stylers":[{"visibility":"off"}]},
     {"featureType":"transit","elementType":"labels","stylers":[{"visibility":"off"}]},
     {"featureType":"water","elementType":"labels","stylers":[{"visibility":"off"}]},
     {"featureType":"road.arterial","elementType":"labels","stylers":[{"visibility":"off"}]},
];
  
// off labels <= 11
var myStyles3=[
     {"featureType":"administrative.locality","elementType":"labels","stylers":[{"visibility":"off"},{"weight":1}]},
     {"featureType":"landscape.natural","elementType":"labels","stylers":[{"visibility":"off"}]},
     {"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},
     {"featureType":"road.highway","elementType":"labels.icon","stylers":[{"visibility":"off"}]},
     {"featureType":"transit","elementType":"labels","stylers":[{"visibility":"off"}]},
     {"featureType":"water","elementType":"labels","stylers":[{"visibility":"off"}]},
     {"featureType":"road.arterial","elementType":"labels","stylers":[{"visibility":"off"}]},
];



var marker, i;
group = [];
group2 = []; 
var markers = [];
var widthy;
var id;
var lastmarker= []; 
var position;
var infowindow = new google.maps.InfoWindow();
var imageform;
var zoomlevel;
var Button_clicked; // indicate the button click id
var l; // indicates category on popup form
var manager;
var cat; // indicates the category selected for popup 
var layers = [];
var arr = new Array(); // dotted Line
polygons = []; // dotted Line
var pedestrian = []; // dotted line

blob:https://github.com/b13d7e62-8217-45c3-8ab2-df084c93be11

var filter;
layers["Zoom_out"] = new google.maps.KmlLayer("https://rquaresma22.github.io/MarketPlace/kmz/2.kml_Zoom_out_area_funchal.kmz",// funchal areas on Zoom out >9
   { suppressInfoWindows: true,  zIndex: 1, preserveViewport: true,  clickable:false  });

layers["Walksoff"] = new google.maps.KmlLayer("https://rquaresma22.github.io/MarketPlace/kmz/2_WalksOff.kmz", // Only show main walks at Zoom >13
   { suppressInfoWindows: true, zIndex: 1,  preserveViewport: true,  clickable:false});

layers["Zoom_in"] = new google.maps.KmlLayer("https://rquaresma22.github.io/MarketPlace/kmz/1_Zoom_in5.kmz", // All Zoom >15 
   { suppressInfoWindows: true, zIndex: 1,  preserveViewport: true,  clickable:false});



layers["YelowBus"] = new google.maps.KmlLayer("https://rquaresma22.github.io/MarketPlace/kmz/YelowBus.kmz",  // yelowBus   
   { suppressInfoWindows: true, zIndex: 2,  preserveViewport: true,  clickable:false  });

layers["AllWalks"] = new google.maps.KmlLayer("https://rquaresma22.github.io/MarketPlace/kmz/Allwalks6.kmz",  // Walks on (all)
   {  suppressInfoWindows: true,  zIndex: 2,  preserveViewport: true,  clickable:false  });



 
  
 

function initialize() {
                   var mapOptions = {
                                    zoom: 11,
                                    center: new google.maps.LatLng(32.654535, -16.913249), 
                                    mapTypeId: google.maps.MapTypeId.roadmap, 
                                    maxZoom: 19,
                                    minZoom: 9,
                                    zoomControl: false,
                                    streetViewControl: false,
                    };

                    map = new google.maps.Map(document.getElementById('map-canvas'),
                                mapOptions);
 
 
                   
  
                    // ++++++++++++ Listener: MAPA Click - Open Form +++++++++++++++++++++
                    google.maps.event.addListener(map, 'click', function(event) {
                                    
                                     position = event.latLng; 
                                     infowindow.close();
                                     
                                      if (document.getElementById("panel").style.display != "block")
                                             { document.getElementById("form").style.display='block';};
  
                    });  

                    // ++++++++++++ Listener: zoom  +++++++++++++++++++++
                    google.maps.event.addListener(map,'zoom_changed', function() {   
                      
                                    manager(); 
                                    infData(); layerkmlAreas(); map_style(); dotted_line_manager(); 
                    });

                    start();

} // end initialize




//++++++++++++++++++++++++++++++++++++++++++++++++++++++ Starting
function  start() {
                    map_style(); 
                    load_locations();
                    addOption_list();
                    layerkmlAreas(); 
                    dotted_line();
                    document.getElementById('All').click(); // click show all markers
                    document.getElementById('zoom_in').click(); // zoom 11 buttom click
}


//++++++++++++++++++++++++++++++++++++++++++++++++++++++ Dotted Lines
function  dotted_line() {
    for (var i in coordinates) {
          arr = [];

          for (var j = 0; j < coordinates[i].length; j++) { 
                    arr.push(new google.maps.LatLng(
                    parseFloat(coordinates[i][j][1]),
                    parseFloat(coordinates[i][j][0])
          ));  
     }

     // Construct the polygon.
     var lineSymbol = {
            path: 'M 0,-1 0,0',
            strokeOpacity: 1,
            scale: 1,
            strokeWeight:2,
     };
    var polygons = new google.maps.Polyline({
            path: arr,
            strokeOpacity: 0,
            strokeColor: "#4169E1",
            icons: [{
                   icon: lineSymbol,
                   offset: '0',
                   repeat: '7px',
            }], 
     });
     polygons.setMap(map);
  
     pedestrian.push(polygons);
   }
dotted_line_manager();
}

function  dotted_line_manager() { 
    if (map.getZoom() <= 13){
        for (i = 0; i < pedestrian.length; i++) { 
                  pedestrian[i].setVisible(false); 
        }  // end for
     }else{
        for (i = 0; i < pedestrian.length; i++) { 
                  pedestrian[i].setVisible(true); 
        }  // end for
     }
}
 



//++++++++++++++++++++++++++++++++++++++++++++++++++++++ Style Map 
function  map_style() {
       if (map.getZoom() <= 8){ map.setOptions({styles: myStyles1}); } 
       else { map.setOptions({styles: myStyles2});} 
}


//++++++++++++++++++++++++++++++++++++++++++++++++++++++ Button: goolgle maps
function  clear_map() {
        
var myStyles0=[
     {"featureType":"administrative.locality","elementType":"labels","stylers":[{"visibility":"on"},{"weight":1}]},
     {"featureType":"landscape.natural","elementType":"labels","stylers":[{"visibility":"on"}]},
     {"featureType":"poi","elementType":"all","stylers":[{"visibility":"on"}]},
     {"featureType":"road.highway","elementType":"labels.icon","stylers":[{"visibility":"on"}]}, 
     {"featureType":"transit","elementType":"labels","stylers":[{"visibility":"on"}]},
     {"featureType":"water","elementType":"labels","stylers":[{"visibility":"on"}]},
     {"featureType":"road.arterial","elementType":"labels","stylers":[{"visibility":"on"}]},
];
    map.setOptions({styles: myStyles0});
 
    for (var i = 0; i < group.length; i++ ) { 
               group[i].setMap(null);
    } 
 
}

//++++++++++++++++++++++++++++++++++++++++++++++++++++++ KML 
function  layerkmlAreas() { 

   if (map.getZoom() < 9) { 
           layers["Zoom_in"].setMap(null);   
           layers["Zoom_out"].setMap(null);
           layers["Walksoff"].setMap(null); 
   }
  
    if (map.getZoom() >= 9 && map.getZoom() <= 12) { 
           layers["Zoom_in"].setMap(null);            
           layers["Walksoff"].setMap(null); 
           layers["Zoom_out"].setMap(map);
    } 

    if (map.getZoom() >= 13 && map.getZoom() <= 14) {
           layers["Zoom_in"].setMap(null); 
           layers["Walksoff"].setMap(map); 
           layers["Zoom_out"].setMap(map);
    }  
    if (map.getZoom() >= 15) {
           layers["Zoom_in"].setMap(map); 
           layers["Walksoff"].setMap(map);  
           layers["Zoom_out"].setMap(null);
    }  
}


//end function layerkmlAreas


//++++++++++++++++++++++++++++++++++++++++++++++++++++++ LOAD  LOCATION ARRAY   
function load_locations() { 

       for(var x = 0; x < CategoryData.length; x++){
            for(var y = 0; y < locations.length; y++){
                if(CategoryData[x][0] === locations[y][1]){

                         if(CategoryData[x][9] !== "costum"){
                                  image = CategoryData[x][9]
                        }  else  {  image = locations[y][3] }    
 
  
                         title = locations[y][2];  

                         ratio = locations[y][10];
                         position = new google.maps.LatLng(locations[y][11], locations[y][12]);
                         anchorX = locations[y][13];
                         anchorY = locations[y][14];
                         foto = locations[y][15];   

                         category = CategoryData[x][0];
                         subcategory = locations[y][16];
                         sub_subcategory = CategoryData[x][10]; 

                         zIndex = CategoryData[x][1]; 
                         onClick = CategoryData[x][2]; 
                         minvisible = CategoryData[x][3];
                         maxvisible = CategoryData[x][4];

                         if(CategoryData[x][5] !== "costum"){
                                minwidth = CategoryData[x][5]*ratio;  
                                minheight = CategoryData[x][5]-minwidth;  }else{ minwidth = locations[y][6]*ratio;
                                                                                 minheight = locations[y][6]-minwidth};

                         if(CategoryData[x][6] !== "costum"){ 
                                width = CategoryData[x][6]*ratio;
                                height = CategoryData[x][6]-width;  }else{ width = locations[y][7]*ratio;
                                                                           height = locations[y][7]-width};

                         if(CategoryData[x][7] !== "costum"){   
                                maxwidth = CategoryData[x][7]*ratio;
                                maxheight = CategoryData[x][7]-maxwidth; }else{ maxwidth = locations[y][8]*ratio;
                                                                                maxheight = locations[y][8]-maxwidth}; 

                         if(CategoryData[x][8] !== "costum"){  
                                power = CategoryData[x][8]; }else{  power = locations[y][9]};  


                                iconimage = new google.maps.MarkerImage('https://rquaresma22.github.io/MarketPlace/Icon/'+ image +'.png');
 
                   map_markers(); 

               }// end if           
              }// end loop  multiple markers from "Location" var
            }// end loop  multiple markers from "Categorys" var   
selector(markers);
 
}// end  load_locations 

//++++++++++++++++++++++++++++++++++++++++++++++++++++++ Add MARKERS ON MAP
function map_markers(){ 

                          var markers = new google.maps.Marker({
                                        position: position,  
                                        icon: iconimage,
                                        image: image, 
                                        minwidth: minwidth, 
                                        minheight: minheight,  
                                        width: width,
                                        widthF: width,
                                        height: height,   
                                        maxwidth:  maxwidth, 
                                        maxheight: maxheight, 
                                        power:  power,   
                                        minvisible: minvisible, 
                                        minvisibleF: minvisible, 
                                        maxvisible:  maxvisible, 
                                        anchorX: anchorX,
                                        anchorY: anchorY,
                                        title: title, 
                                        onClick: onClick, 
                                        foto: foto, 
                                        category:category,  
                                        subcategory:subcategory, 
                                        subsubcategory: sub_subcategory,
                                        zIndex: zIndex,
                                        ratio: ratio,
                                        map: map,
                                });   

                          group.push(markers);   

                         app_listeners(markers);
                          // listeners(markers);

  
}// end markers 

//++++++++++++++++++++++++++++++++++++++++++++++++++++++ MARKERS Listeners
function listeners(markers){
                      // *** Listener dblClick Marker: open infowindow +++++++++++++++++++++++++++++++++++++++
                            google.maps.event.addListener(markers, 'click', (function(markers, i) {
                                            return function() {
                                                        lastzoom = map.getZoom();
                                                        if (lastzoom < 17){ 
                                                                     map.setZoom(lastzoom+2);  }                                                                  
                                                        else {
 
                                                                     infowindow.close()
                                                                     if(markers.onClick === "Infowindow"){ 
                                                                                           infowindow.setContent(markers.getTitle());
                                                                                           infowindow.open(map, markers);} // end if infowindow
 
                                                                     if(markers.onClick ==="Fancybox"){   
                                                                                           infowindow.close(); 
                                                                                           adress = 'https://rquaresma22.github.io/MarketPlace/Fotos/'+ markers.foto+"/"+markers.foto; 
                                                                                           var img1 = adress+"1"+".JPG";  
                                                                                           var img2 = adress+"2"+".JPG";
                                                                                           var img3 = adress+"3"+".JPG";
                                                                                           var img4 = adress+"4"+".JPG"; 
                                                                                           $.fancybox([{
                                                                                                     href: img1},{
                                                                                                     href: img2},{
                                                                                                     href: img3},{
                                                                                                     href: img4}], {
                                                                                                     // API other options
                                                                                                     padding: 0 // optional
                                                                                           }); // fancybox  

                                                                     }// end if fancybox

                                                         } // end else < 17zoom
                                                                        
                                                         map.panTo(markers.getPosition()); 

                                                          }// end return
                            })(markers, i)); // end listener    

}; 

function app_listeners(markers){
                         //*** Listener Marker Click: Push Marker to Array ++++++++++++++++++++++++++++++++++++ 
                              google.maps.event.addListener(markers, 'click', (function(markers, i) { 
                                                        
                                                        return function() { 
                                                                      $('#select').text('Select:'); 
                                                                      lastmarker = []
                                                                      lastmarker.push(markers);

                                                                      var  manager ="individual"; // for left panel manager
                                                                      panelManager(manager);

                                                         }// end return
                            })(markers, i)); // end listener

}; 

//++++++++++++++++++++++++++++++++++++++++++++++++++++++ MARKERS MANAGER/SELECTOR
function selector(clicked_id, markers){  

                    filter = clicked_id;

                    layers["AllWalks"].setMap(null);  
                    layers["YelowBus"].setMap(null);
 
                    for (i = 0; i < group.length; i++) {   

                       if(filter === "All" || filter === group[i].subcategory || group[i].category === "MainLocal Sponsors" ||group[i].subcategory === "Fix"){ 
  
                                  group[i].setMap(map) 

                                  if (filter === "All" || group[i].subcategory === "Fix" || group[i].category === "MainLocal Sponsors"){  
                                       group[i].widthF = group[i].width;
                                       group[i].minvisibleF = group[i].minvisible;                                       

                                      }// end id all
                                  else {  
                                       if(group[i].subsubcategory === "A"){
                                                    group[i].widthF = (50*group[i].ratio);
                                                    group[i].minvisibleF = 9;  
                                       }
                                       if(group[i].subsubcategory === "B"){
                                                    group[i].widthF = (45*group[i].ratio);
                                                    group[i].minvisibleF = 13;  
                                       }
                                  }// end else  

                        } else{ group[i].setMap(null);}// end filter  

                     }// end for    

                     manager(); 

}// end function selector

function manager(){
   
                       document.getElementById("zoomlevel").innerHTML = map.getZoom();
          
                       for (i = 0; i < group.length; i++) {    

                                     //zoom marker visible 
                                             if (map.getZoom() >= group[i].minvisibleF) {   
                                                   group[i].setVisible(true);
                                                   var width = group[i].widthF/Math.pow(group[i].power,group[i].minvisible)*Math.pow(group[i].power,map.getZoom());  
                                                   var height = width/group[i].ratio-width; 
                                             }  
                                             else { group[i].setVisible(false) }// end zoom marker manager


 
           if (group[i].category === "MainLocal Sponsors"){ 
                 var p1 = new google.maps.LatLng(32.647937, -16.909748); 
                 var p2 = 2.5; // indicates limite perimeter Klm
                            if(calcDistance(group, p1)>=0.1 && calcDistance(group, p1)<=p2){  

                                                           //** FORMULA**\\
                             // size amplitude divided along perimeter distante with pertentage  +   remaing size divided along visible zoom levels with percentage										
                             //   width-( width-minwidth )*100%/perimt.*(perim-atualperim)   +   ( width- (    -same-    ))) / zoom.amplitude*100%*(atualzoom-minzoom)															
  
   width =  width-(width-group[i].minwidth)*1/p2*(p2-calcDistance(group, p1))+((width-( width-(width-group[i].minwidth)*1/p2*(p2-calcDistance(group, p1))))/(4)*0.75*(map.getZoom()-group[i].minvisible));  
   height = width/group[i].ratio-width;      
                            }// end if inside distance calculation 
            }// end if main Local Sponsor

 

                                              image = new google.maps.MarkerImage('https://rquaresma22.github.io/MarketPlace/Icon/'+ group[i].image+'.png'); 
    
                                              if(height > group[i].maxheight || width > group[i].maxwidth){ 
                                                         height = group[i].maxheight;  
                                                         width = group[i].maxwidth;
                                              }      
                                              if(height < group[i].minheight || width < group[i].minwidth){ 
                                                         height = group[i].minheight;  
                                                         width = group[i].minwidth;
                                              } 

                                              var anchorx=(width/2)+((width/2)/100*group[i].anchorX);                                                                                   
                                              var anchory=(height)+((height)/100*group[i].anchorY);
              
                                              var icon = image;
                                              icon.scaledSize = new google.maps.Size(width,height);
                                              icon.anchor= new google.maps.Point( anchorx, anchory); 
                                              icon.size = new google.maps.Size(width,height); 
                                              group[i].setIcon(icon);
                                              console.log(group[i].icon.size); 

                                   }// end for 

}// end manager

//canculate distance
 function calcDistance(group,p1) {
                return (google.maps.geometry.spherical.computeDistanceBetween(p1,group[i].getPosition() ) / 1000).toFixed(1);
 }// end function

//++++++++++++++++++++++++++++++++++++++++++++++++++++++ ADD  NEW MARKER
function add_new_Marker() { 

     var elem = document.getElementById('imageform'); // image 
     var elem2 = document.getElementById('selectForm'); // dropdown selection

     if (document.getElementById('Title').value === "" || !elem.complete || elem2.value === "")   { 

        alert("Please fill in all fields!!!!");
            } else {  
 
              for (i = 0; i < CategoryData.length; i++) {   

                   if(CategoryData[i][0] === cat) { // get category  
                                     image = CategoryData[i][9];
                                              if(image === "costum"){ 
                                                     image =  document.getElementById('Icon').value;
                                              }  
    
                  var _img = document.getElementById('imageform');
                  var newImg = new Image;

                  newImg.onload = function() {
                           _img.src = this.src;
                   }
                   newImg.src = elem.src;
               
                         title = document.getElementById('Title').value;    
                         ratio = newImg.width/(newImg.width+newImg.height);
                         position = position;
                         anchorX = 0;
                         anchorY = 0; 
                         foto = "foto";   
                         category = CategoryData[i][0];
                         subcategory = document.getElementById('Sub_category').value;
                         zIndex = CategoryData[i][1]; 
                         onClick = CategoryData[i][2];  
                         minvisible = CategoryData[i][3];
                         maxvisible = CategoryData[i][4];   
                         if(CategoryData[i][5] !=="costum"){ minwidth = CategoryData[i][5]*ratio;  minheight = CategoryData[i][5]-minwidth;}
                                                           else { minwidth = 20*ratio;  minheight = 20-minwidth;};
                         if(CategoryData[i][6] !=="costum"){ width = CategoryData[i][6]*ratio;   height = CategoryData[i][6]-width;}
                                                           else { width = 50*ratio;   height = 50-width;}
                         if(CategoryData[i][7] !=="costum"){  maxwidth = CategoryData[i][7]*ratio;   maxheight = CategoryData[i][7]-maxwidth;}
                                                           else {maxwidth = 200*ratio;   maxheight = 200-maxwidth;}
                         if(CategoryData[i][8] !=="costum"){  power = CategoryData[i][8]; } 
                                                           else { power = 1;}


                         iconimage = new google.maps.MarkerImage(imageform); 

                         map_markers(); 

                   }   
              }// end for 
                                       closeForm(); 

                                       manager();
                                        
                                       map.setZoom(minvisible); map.setCenter(position); 

                          
  }// end if all fields ok
            

 }// end add marker function

// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// ++++++++++++++++++++++++++++++++++  FILL Dropdown Menu Left Button & popup select Form  ++++++++++++++++++++++++++++++++++
 $(document).ready(function () { 
      function recurseMenu(parent) {  // DownMenu from Array 
            var s = '';
            for (var x in menuItems) {
                 if (menuItems[x].parentId == parent) { 
           
                         if (menuItems[x].childCount > 0) { 
                                    s += '<li class="dropdown-submenu">'
                                    s += '<a class="test" tabindex="-1" href="#">'+menuItems[x].title
                                    s += '<span class="caret"></span></a>'
                                    s += '<ul class="dropdown-menu">' 
                                    s +=  recurseMenu(menuItems[x].id);   
                         } 
                         if (menuItems[x].childCount == 0)  {
                                    s += '<li class="dropdown-submenu"><a   href="#">' + menuItems[x].title;
                         } 

                       s += '</a></li>'; 
                   }
           }return s + '</ul>'; // end for
       } // end function recurseMenu

       $("#listContainer").html(recurseMenu()); // fill the DownMenu leftButton
       $("#category").html(recurseMenu()); // fill popup dropdpwn
 

       $('.dropdown-submenu a.test').on("click", function(e){
             $(this).parent().parent().find('.dropdown-menu').hide(); 
             $(this).next('ul').toggle();
             e.stopPropagation();
             e.preventDefault();  
         }); 

       $(document).on('click', '.dropdown-menu li a', function() {
             $(this).parent().parent().parent().find('.dropdown-menu').val($(this).html()); 
             cat = $(this).text();   // keep the category select

             if (Button_clicked === "Control_left"){
                  $('#select').text(cat); 
                  lastmarker = [];
                  for (var i = 0; i < group.length; i++) { 
                            if ( group[i].category === cat){ 
                                      lastmarker.push(group[i]);          
                             } 
                  }  
                  var manager = "Category";
                  panelManager(manager);
            }

             if (Button_clicked === "formCategory"){  
                  $('#selectForm').val(cat); 
                  $('#selectForm').text(cat);  
                  popup_manager(cat);
             } 
        }); // end (document on click)  
});// end ready function




// //++++++++++++++++++++++++++++++++++++++++++++++++++++++  POPUP FORMULARY: manage blocks 
 function popup_manager(clicked_id) { 
    Button_clicked = clicked_id;  
var elem2 = document.getElementById('selectForm');
 
        for (i = 0; i < CategoryData.length; i++) { 
                if (CategoryData[i][0] === cat) {   
                        image =  CategoryData[i][9]; 
                 }// end if
           }// end for 

     if( image =="costum" || Button_clicked === 'more_popup'){
         document.getElementById("Sub_category").style.display='block';
         document.getElementById("Icon").style.display='block';
         document.getElementById("imageform").style.display='block'; 
         document.getElementById("personalized").style.display='block';
 
         var str = document.getElementById('Icon').value;
         imageform= 'https://rquaresma22.github.io/MarketPlace/Icon/'+str+'.png';
         document.getElementById("imageform").src = imageform;
  
     } else {    
         document.getElementById("personalized").style.display='none';
         document.getElementById("imageform").style.display='block'; 
         imageform= 'https://rquaresma22.github.io/MarketPlace/Icon/'+image+'.png';
         document.getElementById("imageform").src = imageform;
     }
 }


 function closeForm() { // CLOSE POPUP FORM
    document.getElementById('Title').value = '' 
    document.getElementById('Sub_category').value = '' 
    document.getElementById('Icon').value = '' 
    document.getElementById("Icon").style.display='none';
    document.getElementById("Sub_category").style.display='none'; 
    document.getElementById("form").style.display='none'; 
    document.getElementById("personalized").style.display='none';
 }


 

//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
//++++++++++++++++++++++++++++++++++++++++++++++++++++++  Panel_Right: manage panel partes   //++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
function panelManager(manager){ 
 
    document.getElementById("panel").style.display='block';

    if ( manager === "Category" ){  
        document.getElementById("sizePanel").style.display='block'
        document.getElementById("zoomPanel").style.display='block'
        document.getElementById("positionPanel").style.display='none'
    }
    else if (manager === "Level" ){
        document.getElementById("sizePanel").style.display='block'  
        document.getElementById("zoomPanel").style.display='block'
        document.getElementById("positionPanel").style.display='none'
    }
   else if ( manager ==="individual" ){  
        document.getElementById("sizePanel").style.display='block'
        document.getElementById("zoomPanel").style.display='block'
        document.getElementById("positionPanel").style.display='block' 
    }
       
    infData(lastmarker[i], manager);

    for (var i = 0; i < lastmarker.length; i++) { 
          lastmarker[i].setAnimation(google.maps.Animation.BOUNCE);  
          lastmarker[i].setAnimation(null);
      }
};

// ++++++++++++++++++++++++++++++++++++++++++++++++++++++ INFO_PANEL: toggle show/hide 
function infPanel() { 
        var x = document.getElementById("infPanel");
        if (x.style.display === "none") {
                x.style.display = "block";
         } else { 
         x.style.display = "none";
    }
}

// ++++++++++++++++++++++++++++++++++++++++++++++++++++++ INFO_PANEL: data
function infData(markers, manager){
 document.getElementById('Change_Category').value ="";
     for (var i = 0; i < lastmarker.length; i++) {       
            title = lastmarker[i].getTitle();
            size = Math.round(lastmarker[i].width)+"/ "+Math.round(lastmarker[i].height);
            minwidth = lastmarker[i].minwidth.toFixed(0);
            minheight = lastmarker[i].minheight.toFixed(0);
            maxwidth = lastmarker[i].maxwidth.toFixed(0);
            maxheight = lastmarker[i].maxheight.toFixed(0);
            visibility = lastmarker[i].minvisible+" to "+lastmarker[i].maxvisible;
            anchorage = " x("+lastmarker[i].anchorX+"), y("+lastmarker[i].anchorY+")";
            index = lastmarker[i].zIndex;
            coordinates = lastmarker[i].getPosition().lat()+","+lastmarker[i].getPosition().lng();
            category = lastmarker[i].category;
            subcategory = lastmarker[i].subcategory;      
 
            content = "<div style='font-size:16px;'>"+"<b><u>Title:</u> </b>"+ title+"</div>"+
                      "<p><div style='font-size: 14px; '>"+"<p><b>Base size: </b>"+size+" ["+(lastmarker[i].height+lastmarker[i].width).toFixed(0)+"];"+" (at minvisible )" 

                                                      +"<p><b>Pow: </b>"+lastmarker[i].power.toFixed(2)+"; Size Icon:  "+lastmarker[i].icon.size.width.toFixed(0)+"/"+ 
                                                            lastmarker[i].icon.size.height.toFixed(0) +" ["+(lastmarker[i].icon.size.width+lastmarker[i].icon.size.height).toFixed(0)+"];" 
                                                      +"<p><b>Min: </b>"+minwidth+"/"+minheight+" ["+(lastmarker[i].minwidth+lastmarker[i].minheight).toFixed(0)+"];"+"<b> Max: </b>"+maxwidth+"/"+maxheight 
                                                            +" ["+(lastmarker[i].maxwidth+lastmarker[i].maxheight).toFixed(0)+"];"
                                                      +"<p><b>Visibility: </b>"+visibility +" zoom " + "<b>Index: </b>" +index + ";"
                                                      +"<p><b> Anchor: </b>" + anchorage+";"
                                                      +"<p><b> Coordinates: </b>"+ coordinates + ";"
                                                      +"<p><b> Category: </b>" + category +";"
                                                      +"<p><b> SubCategory: </b>" + subcategory +";"
                                                      +"<p><b> Change Category:</b>"
                                                      +"</div>" 
                                                     
            document.getElementById("infData").innerHTML = content;
          
      }
};
// ++++++++++++++++++++++ down list change Marker Category right panel
function addOption_list(){ 
     for(var x = 0; x < CategoryData.length; x++){ 
           addOption(document.drop_list.Change_Category, CategoryData[x][0],CategoryData[x][0]); 
         }
}
function addOption(selectbox,text,value )
{
	var optn = document.createElement("OPTION");
	optn.text = text;
	optn.value = value; 
	selectbox.options.add(optn); 
}


// ++++++++++++++++++++++++++++++++++++++++++++++++++++++  // CLOSE RIGHT PANEL
 function closePanel() { 
    document.getElementById("panel").style.display='none' 
    lastmarker = []
    $('#select').text('Select:');  
 }




// +++++++++++++++++++++++++++++++ ALL BUTTONS CLICKED FUNCTIONS
function reply_click(clicked_id){ 
   
    Button_clicked = clicked_id;  

    for (var i = 0; i < lastmarker.length; i++) {
          if ( clicked_id === '-'){
                    latestHeight = lastmarker[i].height;
                              
                    lastmarker[i].height = Math.round(lastmarker[i].height-2);  
                    lastmarker[i].width = Math.round(lastmarker[i].height*lastmarker[i].width/latestHeight);    
                    if(lastmarker[i].width < lastmarker[i].minwidth || lastmarker[i].height < lastmarker[i].minheight){
                                   lastmarker[i].width = lastmarker[i].minwidth
                                   lastmarker[i].height = lastmarker[i].minheight}
 
                    infData();
                                                 }
          else if ( clicked_id === '+'){
                    latestHeight = lastmarker[i].height;
                    lastmarker[i].height = Math.round(lastmarker[i].height+3);  
                    lastmarker[i].width = Math.round(lastmarker[i].height*lastmarker[i].width/latestHeight);    
                    if(lastmarker[i].width > lastmarker[i].maxwidth || lastmarker[i].height > lastmarker[i].maxheight){
                                   lastmarker[i].width = lastmarker[i].maxwidth
                                   lastmarker[i].height = lastmarker[i].maxheight}   
                    infData(); }// end if
                
         else if ( clicked_id === 'pow-'){
                    lastmarker[i].power = lastmarker[i].power-0.02;  
                    height =  lastmarker[i].height/Math.pow(lastmarker[i].power,group[i].minvisible)*Math.pow(lastmarker[i].power,map.getZoom()) ; 
                    width = lastmarker[i].width/Math.pow(lastmarker[i].power,group[i].minvisible)*Math.pow(lastmarker[i].power,map.getZoom()) ; 
                    infData();            } // end if
         else if ( clicked_id === 'pow+'){
                    lastmarker[i].power = lastmarker[i].power+0.03;  
                    height = lastmarker[i].height/Math.pow(lastmarker[i].power,group[i].minvisible)*Math.pow(lastmarker[i].power,map.getZoom()) ; 
                    width = lastmarker[i].width/Math.pow(lastmarker[i].power,group[i].minvisible)*Math.pow(lastmarker[i].power,map.getZoom()) ; 
                    infData();   }// end if 

         else if ( clicked_id === 'min-'){
                    latestminwidth = lastmarker[i].minwidth
                    lastmarker[i].minwidth = Math.round(lastmarker[i].minwidth-2);
                    lastmarker[i].minheight = Math.round(lastmarker[i].minheight*lastmarker[i].minwidth/latestminwidth);
                    infData();  }// end if 
         else if ( clicked_id === 'min+'){
                    latestminwidth = lastmarker[i].minwidth
                    lastmarker[i].minwidth = Math.round(lastmarker[i].minwidth+3);
                    lastmarker[i].minheight = Math.round(lastmarker[i].minheight*lastmarker[i].minwidth/latestminwidth);
                    if (lastmarker[i].minwidth > lastmarker[i].width || lastmarker[i].minheight > lastmarker[i].height) {
                                   lastmarker[i].minwidth = lastmarker[i].width
                                   lastmarker[i].minheight = lastmarker[i].height  }
                    infData();  }// end if 
         else if ( clicked_id === 'Max-'){
                    latestmaxwidth = lastmarker[i].maxwidth;
                    lastmarker[i].maxwidth = Math.round(lastmarker[i].maxwidth-2);
                    lastmarker[i].maxheight = Math.round(lastmarker[i].maxheight*lastmarker[i].maxwidth/latestmaxwidth);
                    if (lastmarker[i].maxwidth < lastmarker[i].width || lastmarker[i].maxheight < lastmarker[i].height) {
                                   lastmarker[i].maxwidth = lastmarker[i].width
                                   lastmarker[i].maxheight = lastmarker[i].height  }
                    infData();  }// end if 
         else if ( clicked_id === 'Max+'){
                    latestmaxwidth = lastmarker[i].maxwidth;
                    lastmarker[i].maxwidth = Math.round(lastmarker[i].maxwidth+3);
                    lastmarker[i].maxheight = Math.round(lastmarker[i].maxheight*lastmarker[i].maxwidth/latestmaxwidth);

                    infData();  }// end if 
                    
        else if ( clicked_id === 'MinV-'){
                    minvisible = lastmarker[i].minvisible-1; 
                    if (minvisible <2) { minvisible = 2};
                    lastmarker[i].minvisible = minvisible
                    infData();   }// end if 
        else if ( clicked_id === 'MinV+'){
                    maxvisible = lastmarker[i].maxvisible; 
                    minvisible = lastmarker[i].minvisible+1; 
                    if (minvisible <2) { minvisible = 2};
                    if (minvisible >=maxvisible) { minvisible = maxvisible-1};
                    lastmarker[i].minvisible = minvisible
                    infData();   }// end if 
         else if ( clicked_id === 'MaxV-'){
                    minvisible =lastmarker[i].minvisible
                    maxvisible = lastmarker[i].maxvisible-1; 
                    if (maxvisible >18) { maxvisible = 18};
                    if (maxvisible <=minvisible) { maxvisible = minvisible+1};
                    lastmarker[i].maxvisible =  maxvisible
                    infData();   }// end if 
         else if ( clicked_id === 'MaxV+'){
                    minvisible =lastmarker[i].minvisible
                    maxvisible = lastmarker[i].maxvisible+1; 
                    if (maxvisible >18) { maxvisible = 18};
                    if (maxvisible <=minvisible) { maxvisible = minvisible+1};
                    lastmarker[i].maxvisible =  maxvisible
                    infData();   }// end if 

         if ( clicked_id === 'CoordLeft'){ 
                    lat = lastmarker[i].getPosition().lat()+0;   
                    lng= lastmarker[i].getPosition().lng()-0.00015;    
                    position = new google.maps.LatLng(lat , lng);
                    lastmarker[i].setPosition(position);
                    infData();                           }   
         if ( clicked_id === 'CoordRight'){ 
                    lat = lastmarker[i].getPosition().lat()+0;   
                    lng= lastmarker[i].getPosition().lng()+0.00010;   
                    position = new google.maps.LatLng(lat , lng);
                    lastmarker[i].setPosition(position);
                    infData();                           }      
         if ( clicked_id === 'CoordUp'){ 
                    lat = lastmarker[i].getPosition().lat()+0.00015;   
                    lng= lastmarker[i].getPosition().lng()+0;   
                    position = new google.maps.LatLng(lat , lng);
                    lastmarker[i].setPosition(position);
                    infData();                           }    
         if ( clicked_id === 'CoordDown'){ 
                    lat = lastmarker[i].getPosition().lat()-0.00010;    
                    lng= lastmarker[i].getPosition().lng()+0;   
                    position = new google.maps.LatLng(lat , lng);
                    lastmarker[i].setPosition(position);
                    infData();                           }

         if ( clicked_id === 'AnchorLeft'){ 
                   lastmarker[i].anchorX = lastmarker[i].anchorX-5;  lastmarker[i].anchorY = lastmarker[i].anchorY;    infData();   }    
         if ( clicked_id === 'AnchorRight'){ 
                   lastmarker[i].anchorX =lastmarker[i].anchorX+5;  lastmarker[i].anchorY = lastmarker[i].anchorY;     infData();   }    
         if ( clicked_id === 'AnchorUP'){ 
                   lastmarker[i].anchorX = lastmarker[i].anchorX;   lastmarker[i].anchorY =lastmarker[i].anchorY-5;    infData();   }           
         if ( clicked_id === 'AnchorDown'){ 
                   lastmarker[i].anchorX = lastmarker[i].anchorX;   lastmarker[i].anchorY =lastmarker[i].anchorY+5;     infData();  }       
 
         if ( clicked_id === 'Change_CatButton'){ 
                  if(confirm("Change to " + document.getElementById('Change_Category').value + "?")) {
                         lastmarker[i].category = document.getElementById('Change_Category').value;       infData();  } }    
  
         if ( clicked_id === 'Delete'){ 
                    if(confirm("Delete Marker?")) {
                             lastmarker[i].setMap(null);
                             lastmarker[i] = []   
                             closePanel();
                             group.splice(i, 1); 

                          }// end if confirm
                    else { return false }        }// end if

         lastmarker[i].widthF = lastmarker[i].width;
         lastmarker[i].minvisibleF = lastmarker[i].minvisible
         manager(markers); 
    }
}// end Painel Change size

function download(clicked_id, text, filename, type) { 

      if (clicked_id === "group"){ array = group; } else { array = group2; }  
 
      text = "var locations =["+"\r\n";   
     
      var n = 1;
        for(var x = 0; x < CategoryData.length; x++){ 

            for(var y = 0; y < array.length; y++){
               if(CategoryData[x][0] === array[y].category ){

      //+++++++++++++ GENERATE LOCATIONS DATA
               text +=  "[" + n+ "," + 
                        '"'+array[y].category +'"'+  "," +                      // category 
                        '"'+array[y].getTitle() +'"'+  "," +                    // Title 
                        '"'+array[y].image + '"'+  "," +                        // Image
                         array[y].minvisible +  "," +                           // minVisible
                         array[y].maxvisible +  "," +                           // maxVisible           
                        (array[y].minwidth+array[y].minheight) +  "," +         // minSize
                        (array[y].width+array[y].height) +  "," +               // Size
                        (array[y].maxwidth+array[y].maxheight) +  "," +         // maxSize
                         array[y].power +  "," +          // power

                         array[y].ratio +  "," +  

                        array[y].getPosition().lat() +  "," +  
                        array[y].getPosition().lng() +  "," +  
   
                        array[y].anchorX +  "," +  
                        array[y].anchorY +  "," +     
                         '"'+ array[y].foto + '"' +","+ 
                         '"'+ array[y].subcategory + '"' +  "],"
                        +"\r\n";  
                        n++; 
               }// end if 
             } // end for           
          } // end for   

               text +=  "]//Finish"+"\r\n"+"\r\n"+"var CategoryData =["+"\r\n";  
 
      //+++++++++++++ GENERATE CATEGORY DATA
        for(var x = 0; x < CategoryData.length; x++){ 

               text +=  "[" +  
                        '"'+CategoryData[x][0] +'"'+  "," +   //category
                         CategoryData[x][1] + "," +           // index
                        '"'+CategoryData[x][2] +'"'+  "," +   // onClick
                         CategoryData[x][3] + "," +           // minVisible
                         CategoryData[x][4] + ","  ;          // maxVisible
               
                        for(var y = 0; y < array.length; y++){    
                            if( CategoryData[x][0] === array[y].category){
   
                                if(CategoryData[x][5] !== "costum") { 
                                     text +=  (array[y].minwidth+array[y].minheight)+ ",";  
                                 } else {  text += '"'+"costum"+'"'+ ","};
                                if(CategoryData[x][6] !== "costum") {
                                     text +=  (array[y].width+array[y].height)+ ",";  
                                 }else {  text += '"'+"costum"+'"'+ ","};

                                if(CategoryData[x][7] !== "costum") {
                                     text +=  (array[y].maxwidth+array[y].maxheight)+ ",";  
                                 }else {  text += '"'+"costum"+'"'+ ","};
                                if(CategoryData[x][8] !== "costum") {
                                     text +=  (array[y].power)+ ",";  
                                 }else {  text += '"'+"costum"+'"'+ ","};

                                 break; }
                       } // end for   
                           text +=   '"'+CategoryData[x][9] +'"' + 
                                     "],"+"\r\n" ;            
          } // end for   

          text +=  "]//Finish";  


              var file = new Blob( 
                      [text] ,
                       {type: "text/plain"}); // fim blob  


    // gerar txt doc 
    if (window.navigator.msSaveOrOpenBlob) // IE10+
        window.navigator.msSaveOrOpenBlob(file, filename);
    else { // Others
        var a = document.createElement("a"),
        url = URL.createObjectURL(file);
        a.href = url;
        a.download = "meus marcadores";
        document.body.appendChild(a);
        a.click();
        setTimeout(function() {
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);   
        }, 0); 
    }// end if
 
}// end download Function

function push_array(){

    for (var i = 0; i < lastmarker.length; i++) { 
           group2.push(lastmarker[i]);  
           
      }
};
 function zoom_controlF(clicked_id){ 
  off = "rgba(255, 255, 255, 0.2)";
  on = "rgba(255, 255, 255, .6)";
 
    document.getElementById("zoom_out").style.backgroundColor = off;  
    document.getElementById("zoom_in").style.backgroundColor = off;   
 

    document.getElementById(clicked_id).style.backgroundColor = on;  

    if (map.getZoom() >= 15){ 
            _Z = 1;
            if (map.getZoom() === 15 && clicked_id === "zoom_out"){
                   _Z = 2;
             }
     } else { _Z = 2; }

    if (clicked_id === "zoom_out"){map.setZoom(map.getZoom()-_Z)};
    if (clicked_id === "zoom_in"){ map.setZoom(map.getZoom()+_Z)};
 

    var c = map.getCenter();
    map.panTo(c); 

 
}

google.maps.event.addDomListener(window, 'load', initialize); 

    </script>
  </head> 
  <body>


    <div id="form" style="display: none;"
         <table><b>New Marker: </b> 
         <img id="imageform"  style="display: block;"  alt="load..." height="42" width="42">
 
         <p> <tr><td>Title:</td> <td><input  type='text' id='Title'  /> </td> </tr></p>  
         
         <div id="formCategory" value="" onclick="reply_click(this.id)" >  
            <div class="dropdown">
            <button id="selectForm" class="btn btn-default dropdown-toggle" type="button"  data-toggle="dropdown">Select
            <span class="caret"></span></button>

            <div id="category" value="ds"class="dropdown-menu"  ></div>
           
    </div>
 </div>

     <input id="Add" onclick="add_new_Marker()" type=button value="Add Marker"  style="width:100px; height:30px; font-size: 16px; "  border:0px;">
     <tr><td></td><td><input type='button' value='Cancel' onclick="closeForm()" /></td></tr>
     <input id="more_popup" onclick=popup_manager(this.id) type=button value="more"  style="width:50px; height:25px; font-size: 13px; "  border:0px;">  

           <Div id="personalized" style="display: none;"  

                 <p> <tr><td><hr>Subcategory</td>  <td><select id='Sub_category'style="display: block;"> +
                               <option value='' ></option>
                               <option value='Museum' >Museum</option>
                               <option value='Nightlife' >Nightlife</option>
                               <option value='Walk' >Walk</option>
                 </select> </td></tr></p>

                 <p><tr><td>Icon name: </td> <td><input type='text' id='Icon'style="display: block;"/> </td> </tr>
                 <input id="Load" onclick="popup_manager()" type=button value="load"  style="width:50px; height:30px; font-size: 16px; "  border:0px;">
          </Div>
 
    </div>


 <div id="panel" style="display: none;">

       <div id="sizePanel" style="display: block;">

                 <input id="-" onclick=reply_click(this.id) type=button value="Base -"  style="width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="+" onclick=reply_click(this.id) type=button value="Base +"  style="width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="pow-" onclick=reply_click(this.id) type=button value="Pow -"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="pow+" onclick=reply_click(this.id) type=button value="Pow +"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="min-" onclick=reply_click(this.id) type=button value="min &#9652"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="min+" onclick=reply_click(this.id) type=button value="min &#9652"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="Max-" onclick=reply_click(this.id) type=button value="Max &#9660"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="Max+" onclick=reply_click(this.id) type=button value="Max &#9660"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;"><p>

        </Div>

        <div id="zoomPanel" style="display: block;">

                 <input id="MinV-" onclick=reply_click(this.id) type=button value="min - &#x1F50D"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="MinV+" onclick=reply_click(this.id) type=button value="min - &#x1F50D"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="MaxV-" onclick=reply_click(this.id) type=button value="Max + &#x1F50D"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;"> 
                 <input id="MaxV+" onclick=reply_click(this.id) type=button value="Max + &#x1F50D"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;"> <p>
        </Div>
        <div id="positionPanel" style="display: block;">
                 <input id="CoordLeft" onclick=reply_click(this.id) type=button value="Coord:&#8656"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">  
                 <input id="CoordRight" onclick=reply_click(this.id) type=button value="Coord:&#8680"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="CoordUp" onclick=reply_click(this.id) type=button value="Coord:&#8679"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="CoordDown" onclick=reply_click(this.id) type=button value="Coord:&#8681"  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">

                 <input id="AnchorLeft" onclick=reply_click(this.id) type=button value=&#9875&#8656  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="AnchorRight" onclick=reply_click(this.id) type=button value=&#9875&#8680  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="AnchorUP" onclick=reply_click(this.id) type=button value=&#9875&#8679  style="  width:60px; height:30px; font-size: 12px; "  border:0px;">
                 <input id="AnchorDown" onclick=reply_click(this.id) type=button value=&#9875&#8681  style="  width:60px; height:30px; font-size: 12px; "  border:0px;"> <p> 
         </Div>
 
         <p>     <input id="more" onclick= infPanel(); type=button value="More"  style=" width:60px; height:30px; font-weight: bold; font-size: 12px; align:right; "  border:0px;">
                 <input id="Close" onclick= closePanel(); type=button value="ClosePanel"  style=" width:85px; height:30px; font-weight: bold; font-size: 12px; align:right; "  border:0px;">
                 <input id="Delete" onclick=reply_click(this.id) type=button value="DeleteMarker"  style="  width:100px; height:30px; font-weight: bold; font-size: 12px; align:right; "  border:0px;">

         <div id="infPanel" style="display: none;   font-family: Times New Roman;  text-align: left;">

                 <b><hr> </b>  

                 <div id="infData"> 
                  </Div>  
 
                 <FORM name="drop_list"  method="POST" > 		
                        <SELECT id="Change_Category" >
                        <Option value="" > </option>
                        </SELECT>
                 </form>   

                 <input id="Change_CatButton" onclick=reply_click(this.id) type=button value="OK"  style="width:40px; height:20px; font-size: 12px; "  border:0px;">
         </Div>
  </div> 


  <div id="zoomlevel" style=" position: absolute; z-index: 5; width:auto; height: auto; left: 0.4%;background-color: #fff; padding: 7px; bottom: 1%;"></div>
  <div id="map-canvas"></div>





 <div id="Control_left" onclick=reply_click(this.id)> 
    <div class="dropdown">
    <button class="btn btn-default dropdown-toggle" onclick="closePanel();closeForm();" id="select" type="button" data-toggle="dropdown">Select
    <span class="caret"></span></button>

           <div id="listContainer" class="dropdown-menu" ></div>
             
    </div>
 </div>
 <div id="save">
   <input id="group" onclick="download(this.id);" type=button value="Download All" >  
   <input id="open" onclick="push_array();" type=button value="Add to" >  
   <input id="group2" onclick="download(this.id);" type=button value="open" >    
</div>




    <div id="controls">

    <input type="button" id="AllWalks" onclick="selector(this.id);layers[this.id].setMap(map);" style= "background-image:url(https://rquaresma22.github.io/MarketPlace/Icon/walkA.png); background-size:100%;
     width:40px; height:40px; border:0px;" />

    <input type="button" id="YelowBus" onclick="selector(this.id);layers[this.id].setMap(map);" style= "background-image:url(https://rquaresma22.github.io/MarketPlace/Icon/yelowbus.png); background-size:100%; 
     width:40px; height:40px; border:0px;" />

     <input type="button" id="All" onclick="selector(this.id)" style= "background-image:url(https://rquaresma22.github.io/MarketPlace/Icon/atractions.png); background-size:100%; 
     width:40px; height:40px; border:0px;" />   

     <input type="button" id="layer_02" onclick="clear_map();" style= "background-image:url(https://rquaresma22.github.io/MarketPlace/Icon/google_maps.png); background-size:100%;
     width:40px; height:40px; border:0px;" />  
   
    <input type="button" id="All" onclick="selector(this.id)" style= "background-image:url(https://rquaresma22.github.io/MarketPlace/Icon/geolocation.png); background-size:100%;  
     width:40px; height:40px; border:0px;" />   

  </div> 
 
     <div id="zoom_controls">

    <input type="button" id="zoom_out"; 
              style= "background-size:100%;  width:40px; height:40px; border-radius:50%;"
              value="-" onclick="zoom_controlF(this.id);" />

    <input type="button" id="zoom_in"; 
              style= "background-size:100%; margin-left: 2%;  width:40px; height:40px; border-radius:50%;"
              value="+" onclick="zoom_controlF(this.id);" /> 
 
  </div> 
 

  </body>
</html>






